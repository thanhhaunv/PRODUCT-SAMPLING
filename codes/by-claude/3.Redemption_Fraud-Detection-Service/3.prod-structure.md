# üöÄ Sub-Project 3: Redemption & Fraud Detection Service - Complete Implementation Guide

## üìã **B·∫¢NG T·ªîNG H·ª¢P T·∫§T C·∫¢ FILES V√Ä REFERENCES**

| **Category** | **File Path** | **M√¥ t·∫£** | **SRS Reference** | **Business Purpose** |
|-------------|---------------|-----------|-------------------|-------------------|
| **üèóÔ∏è BACKEND DOMAIN** | | | | |
| Entities | `backend/src/domain/entities/Redemption.ts` | Core Redemption entity v·ªõi business rules | Part04.3.1 Barcode Redemption (FR-007) | Barcode redemption lifecycle logic |
| Entities | `backend/src/domain/entities/FraudScore.ts` | Fraud scoring entity v·ªõi ML integration | Part04.4.1 Fraud Detection (FR-011) | ML-based fraud detection logic |
| Entities | `backend/src/domain/entities/DeviceFingerprint.ts` | Device fingerprinting entity | Part04.4.1.5 Device Fingerprinting | Device-based fraud prevention |
| Entities | `backend/src/domain/entities/Transaction.ts` | Transaction entity cho fraud analysis | Part04.4.1 Fraud Detection | Transaction pattern analysis |
| Entities | `backend/src/domain/entities/POSDevice.ts` | POS device management entity | Part04.3.1 Barcode Redemption | Offline redemption support |
| Value Objects | `backend/src/domain/value-objects/BarcodeHash.ts` | Barcode hash value object | Part04.3.1 Barcode Redemption | Secure barcode validation |
| Value Objects | `backend/src/domain/value-objects/FraudRisk.ts` | Fraud risk assessment value object | Part04.4.1 Fraud Detection | Risk level calculation |
| Value Objects | `backend/src/domain/value-objects/DeviceSignature.ts` | Device signature value object | Part04.4.1.5 Device Fingerprinting | Unique device identification |
| Value Objects | `backend/src/domain/value-objects/RedemptionStatus.ts` | Redemption status management | Part04.3.1 Barcode Redemption | Status lifecycle tracking |
| Repositories | `backend/src/domain/repositories/IRedemptionRepository.ts` | Redemption repository interface | Part06.2.1 Layered Architecture | Redemption data access contract |
| Repositories | `backend/src/domain/repositories/IFraudScoreRepository.ts` | Fraud score repository interface | Part06.2.1 Layered Architecture | Fraud data access contract |
| Repositories | `backend/src/domain/repositories/IDeviceFingerprintRepository.ts` | Device fingerprint repository interface | Part06.2.1 Layered Architecture | Device data access contract |
| Repositories | `backend/src/domain/repositories/ITransactionRepository.ts` | Transaction repository interface | Part06.2.1 Layered Architecture | Transaction data access |
| Domain Services | `backend/src/domain/services/RedemptionDomainService.ts` | Redemption business logic service | Part04.3.1 Barcode Redemption | Complex redemption operations |
| Domain Services | `backend/src/domain/services/FraudDetectionService.ts` | Fraud detection business logic | Part04.4.1 Fraud Detection | Fraud analysis algorithms |
| Domain Services | `backend/src/domain/services/DeviceFingerprintingService.ts` | Device fingerprinting logic | Part04.4.1.5 Device Fingerprinting | Device identification algorithms |
| Domain Services | `backend/src/domain/services/RiskCalculationService.ts` | Risk assessment calculations | Part04.4.1 Fraud Detection | Risk scoring business rules |
| **üîÑ BACKEND APPLICATION** | | | | |
| Use Cases | `backend/src/application/use-cases/redemption/RedeemBarcodeUseCase.ts` | Barcode redemption workflow | Part04.3.1 Barcode Redemption (FR-007) | Main redemption process |
| Use Cases | `backend/src/application/use-cases/redemption/ValidateBarcodeUseCase.ts` | Barcode validation logic | Part04.3.1 Barcode Redemption | Pre-redemption validation |
| Use Cases | `backend/src/application/use-cases/redemption/ProcessOfflineRedemptionUseCase.ts` | Offline redemption handling | Part04.3.1 Barcode Redemption | POS offline support |
| Use Cases | `backend/src/application/use-cases/redemption/SyncPOSRedemptionsUseCase.ts` | POS synchronization workflow | Part04.3.1 Barcode Redemption | Offline-online sync |
| Use Cases | `backend/src/application/use-cases/redemption/GetRedemptionStatusUseCase.ts` | Redemption status tracking | Part04.3.1 Barcode Redemption | Status inquiry workflow |
| Use Cases | `backend/src/application/use-cases/fraud/DetectFraudUseCase.ts` | Real-time fraud detection | Part04.4.1 Fraud Detection (FR-011) | Main fraud detection workflow |
| Use Cases | `backend/src/application/use-cases/fraud/CalculateFraudScoreUseCase.ts` | ML-based fraud scoring | Part04.4.1.4 ML Based Scoring | Machine learning fraud assessment |
| Use Cases | `backend/src/application/use-cases/fraud/GenerateDeviceFingerprintUseCase.ts` | Device fingerprinting workflow | Part04.4.1.5 Device Fingerprinting | Device identification process |
| Use Cases | `backend/src/application/use-cases/fraud/UpdateFraudRulesUseCase.ts` | Fraud rules management | Part04.4.1 Fraud Detection | Rules engine configuration |
| Use Cases | `backend/src/application/use-cases/fraud/AnalyzeTransactionPatternUseCase.ts` | Transaction pattern analysis | Part04.4.1 Fraud Detection | Behavioral analysis workflow |
| Use Cases | `backend/src/application/use-cases/pos/RegisterPOSDeviceUseCase.ts` | POS device registration | Part04.3.1 Barcode Redemption | POS setup workflow |
| Use Cases | `backend/src/application/use-cases/pos/AuthenticatePOSUseCase.ts` | POS authentication workflow | Part04.3.1 Barcode Redemption | POS security validation |
| DTOs | `backend/src/application/dto/RedemptionDTO.ts` | Redemption data transfer objects | Part08.3.1 Redemption APIs | Redemption API contracts |
| DTOs | `backend/src/application/dto/FraudDetectionDTO.ts` | Fraud detection DTOs | Part08.3.2 Fraud Detection APIs | Fraud API contracts |
| DTOs | `backend/src/application/dto/DeviceFingerprintDTO.ts` | Device fingerprint DTOs | Part08.3.2 Fraud Detection APIs | Device API contracts |
| DTOs | `backend/src/application/dto/POSDTO.ts` | POS integration DTOs | Part08.3.1 Redemption APIs | POS API contracts |
| Ports | `backend/src/application/ports/IScanditService.ts` | Scandit SDK service interface | Part09.2.1 Scandit SDK Integration | QR scanning service contract |
| Ports | `backend/src/application/ports/IMLScoringService.ts` | Machine learning service interface | Part04.4.1.4 ML Based Scoring | ML scoring service contract |
| Ports | `backend/src/application/ports/IDeviceFingerprintingService.ts` | Device fingerprinting service interface | Part04.4.1.5 Device Fingerprinting | Fingerprinting service contract |
| Ports | `backend/src/application/ports/IPOSSyncService.ts` | POS synchronization service interface | Part04.3.1 Barcode Redemption | POS integration contract |
| Ports | `backend/src/application/ports/INotificationService.ts` | Notification service interface | Part04.4.1 Fraud Detection | Fraud alert notifications |
| **üèóÔ∏è BACKEND INFRASTRUCTURE** | | | | |
| Repositories | `backend/src/infrastructure/persistence/repositories/RedemptionRepository.ts` | PostgreSQL redemption repository | Part07.4.1 Redemption Table | Redemption data persistence |
| Repositories | `backend/src/infrastructure/persistence/repositories/FraudScoreRepository.ts` | Fraud score data access | Part07.4.2 Fraud Score Table | Fraud data persistence |
| Repositories | `backend/src/infrastructure/persistence/repositories/DeviceFingerprintRepository.ts` | Device fingerprint data access | Part07.4.3 Device Fingerprint Table | Device data persistence |
| Repositories | `backend/src/infrastructure/persistence/repositories/TransactionRepository.ts` | Transaction data access | Part07.4.1 Redemption Table | Transaction data operations |
| Repositories | `backend/src/infrastructure/persistence/repositories/POSDeviceRepository.ts` | POS device data management | Part07.4.1 Redemption Table | POS device data persistence |
| Models | `backend/src/infrastructure/persistence/models/RedemptionModel.ts` | Prisma redemption model | Part07.4.1 Redemption Table | Database schema mapping |
| Models | `backend/src/infrastructure/persistence/models/FraudScoreModel.ts` | Fraud score database model | Part07.4.2 Fraud Score Table | Fraud schema mapping |
| Models | `backend/src/infrastructure/persistence/models/DeviceFingerprintModel.ts` | Device fingerprint model | Part07.4.3 Device Fingerprint Table | Device schema mapping |
| Models | `backend/src/infrastructure/persistence/models/TransactionModel.ts` | Transaction model definition | Part07.4.1 Redemption Table | Transaction schema |
| Models | `backend/src/infrastructure/persistence/models/POSDeviceModel.ts` | POS device model | Part07.4.1 Redemption Table | POS schema mapping |
| Migrations | `backend/src/infrastructure/persistence/migrations/001_create_redemptions.sql` | Redemption table creation | Part07.4.1 Redemption Table | Database schema setup |
| Migrations | `backend/src/infrastructure/persistence/migrations/002_create_fraud_scores.sql` | Fraud score tables creation | Part07.4.2 Fraud Score Table | Fraud schema setup |
| Migrations | `backend/src/infrastructure/persistence/migrations/003_create_device_fingerprints.sql` | Device fingerprint table | Part07.4.3 Device Fingerprint Table | Device schema setup |
| Migrations | `backend/src/infrastructure/persistence/migrations/004_create_pos_devices.sql` | POS device tables | Part07.4.1 Redemption Table | POS management schema |
| External Services | `backend/src/infrastructure/external-services/ScanditService.ts` | Scandit SDK integration | Part09.2.1 Scandit SDK Integration | QR scanning implementation |
| External Services | `backend/src/infrastructure/external-services/MLScoringService.ts` | Machine learning service | Part04.4.1.4 ML Based Scoring | ML fraud scoring implementation |
| External Services | `backend/src/infrastructure/external-services/DeviceFingerprintingService.ts` | Device fingerprinting service | Part04.4.1.5 Device Fingerprinting | Device identification implementation |
| External Services | `backend/src/infrastructure/external-services/POSSyncService.ts` | POS synchronization service | Part04.3.1 Barcode Redemption | POS integration implementation |
| External Services | `backend/src/infrastructure/external-services/NotificationService.ts` | Fraud alert notifications | Part04.4.1 Fraud Detection | Alert delivery implementation |
| External Services | `backend/src/infrastructure/external-services/CacheService.ts` | Redis caching service | Part04.3.1 Barcode Redemption | Performance optimization |
| Config | `backend/src/infrastructure/config/redemption.config.ts` | Redemption service configuration | Part02.8 Technical Requirements | Service configuration |
| Config | `backend/src/infrastructure/config/fraud.config.ts` | Fraud detection configuration | Part04.4.1 Fraud Detection | Fraud service configuration |
| Config | `backend/src/infrastructure/config/scandit.config.ts` | Scandit SDK configuration | Part09.2.1 Scandit SDK Integration | SDK configuration |
| Config | `backend/src/infrastructure/config/ml.config.ts` | Machine learning configuration | Part04.4.1.4 ML Based Scoring | ML service configuration |
| Config | `backend/src/infrastructure/config/pos.config.ts` | POS integration configuration | Part04.3.1 Barcode Redemption | POS configuration |
| **üåê BACKEND PRESENTATION** | | | | |
| Controllers | `backend/src/presentation/controllers/RedemptionController.ts` | Redemption management endpoints | Part08.3.1 Redemption APIs | Redemption API endpoints |
| Controllers | `backend/src/presentation/controllers/FraudDetectionController.ts` | Fraud detection APIs | Part08.3.2 Fraud Detection APIs | Fraud API endpoints |
| Controllers | `backend/src/presentation/controllers/DeviceFingerprintController.ts` | Device fingerprint APIs | Part08.3.2 Fraud Detection APIs | Device API endpoints |
| Controllers | `backend/src/presentation/controllers/POSController.ts` | POS integration endpoints | Part08.3.1 Redemption APIs | POS API endpoints |
| Controllers | `backend/src/presentation/controllers/HealthController.ts` | Health check endpoint | Part15.3.1 Health Monitoring | Service health monitoring |
| Middleware | `backend/src/presentation/middleware/RedemptionAuthMiddleware.ts` | Redemption authorization | Part05.3 Security Requirements | Redemption access control |
| Middleware | `backend/src/presentation/middleware/FraudValidationMiddleware.ts` | Fraud detection validation | Part04.4.1 Fraud Detection | Fraud input validation |
| Middleware | `backend/src/presentation/middleware/POSAuthMiddleware.ts` | POS authentication middleware | Part04.3.1 Barcode Redemption | POS security middleware |
| Middleware | `backend/src/presentation/middleware/RateLimitMiddleware.ts` | API rate limiting | Part05.3 Security Requirements | API abuse prevention |
| Middleware | `backend/src/presentation/middleware/FraudAlertMiddleware.ts` | Fraud alert middleware | Part04.4.1 Fraud Detection | Real-time fraud alerts |
| Routes | `backend/src/presentation/routes/redemptions.routes.ts` | Redemption management routes | Part08.3.1 Redemption APIs | Redemption endpoint routing |
| Routes | `backend/src/presentation/routes/fraud.routes.ts` | Fraud detection routes | Part08.3.2 Fraud Detection APIs | Fraud endpoint routing |
| Routes | `backend/src/presentation/routes/devices.routes.ts` | Device fingerprint routes | Part08.3.2 Fraud Detection APIs | Device endpoint routing |
| Routes | `backend/src/presentation/routes/pos.routes.ts` | POS integration routes | Part08.3.1 Redemption APIs | POS endpoint routing |
| Validators | `backend/src/presentation/validators/RedemptionValidators.ts` | Redemption data validation | Part05.7 Input Validation | Redemption input validation |
| Validators | `backend/src/presentation/validators/FraudValidators.ts` | Fraud detection validation | Part05.7 Input Validation | Fraud input validation |
| Validators | `backend/src/presentation/validators/DeviceValidators.ts` | Device fingerprint validation | Part05.7 Input Validation | Device input validation |
| Validators | `backend/src/presentation/validators/POSValidators.ts` | POS integration validation | Part05.7 Input Validation | POS input validation |
| **üß∞ BACKEND SHARED** | | | | |
| Constants | `backend/src/shared/constants/redemption.constants.ts` | Redemption-related constants | Part04.3.1 Barcode Redemption | Redemption configuration constants |
| Constants | `backend/src/shared/constants/fraud.constants.ts` | Fraud detection constants | Part04.4.1 Fraud Detection | Fraud configuration constants |
| Constants | `backend/src/shared/constants/device.constants.ts` | Device fingerprint constants | Part04.4.1.5 Device Fingerprinting | Device configuration |
| Constants | `backend/src/shared/constants/pos.constants.ts` | POS integration constants | Part04.3.1 Barcode Redemption | POS configuration constants |
| Exceptions | `backend/src/shared/exceptions/RedemptionException.ts` | Redemption-specific errors | Part05.8 Error Handling | Redemption error handling |
| Exceptions | `backend/src/shared/exceptions/FraudException.ts` | Fraud detection errors | Part05.8 Error Handling | Fraud error handling |
| Exceptions | `backend/src/shared/exceptions/DeviceException.ts` | Device fingerprint errors | Part05.8 Error Handling | Device error handling |
| Exceptions | `backend/src/shared/exceptions/POSException.ts` | POS integration errors | Part05.8 Error Handling | POS error handling |
| Exceptions | `backend/src/shared/exceptions/ScanditException.ts` | Scandit SDK errors | Part05.8 Error Handling | SDK error handling |
| Types | `backend/src/shared/types/redemption.types.ts` | Redemption type definitions | Part08.3.1 Redemption APIs | Redemption TypeScript types |
| Types | `backend/src/shared/types/fraud.types.ts` | Fraud detection types | Part08.3.2 Fraud Detection APIs | Fraud TypeScript types |
| Types | `backend/src/shared/types/device.types.ts` | Device fingerprint types | Part08.3.2 Fraud Detection APIs | Device TypeScript types |
| Types | `backend/src/shared/types/pos.types.ts` | POS integration types | Part08.3.1 Redemption APIs | POS TypeScript types |
| Types | `backend/src/shared/types/ml.types.ts` | Machine learning types | Part04.4.1.4 ML Based Scoring | ML TypeScript types |
| Utils | `backend/src/shared/utils/barcode.utils.ts` | Barcode processing utilities | Part04.3.1 Barcode Redemption | Barcode utility functions |
| Utils | `backend/src/shared/utils/fraud.utils.ts` | Fraud detection utilities | Part04.4.1 Fraud Detection | Fraud utility functions |
| Utils | `backend/src/shared/utils/device.utils.ts` | Device fingerprint utilities | Part04.4.1.5 Device Fingerprinting | Device utility functions |
| Utils | `backend/src/shared/utils/encryption.utils.ts` | Data encryption utilities | Part05.3 Security Requirements | Security utility functions |
| Utils | `backend/src/shared/utils/validation.utils.ts` | Redemption validation helpers | Part05.7 Input Validation | Validation utility functions |
| **üß™ TESTING FILES** | | | | |
| Backend Tests | `backend/tests/unit/domain/entities/Redemption.test.ts` | Redemption entity unit tests | Part13.2.1 Unit Testing Framework | Domain logic testing |
| Backend Tests | `backend/tests/unit/domain/entities/FraudScore.test.ts` | Fraud score entity tests | Part13.2.1 Unit Testing Framework | Fraud entity testing |
| Backend Tests | `backend/tests/unit/application/use-cases/RedeemBarcodeUseCase.test.ts` | Redemption use case tests | Part13.2.1 Unit Testing Framework | Application logic testing |
| Backend Tests | `backend/tests/unit/application/use-cases/DetectFraudUseCase.test.ts` | Fraud detection tests | Part13.2.1 Unit Testing Framework | Fraud use case testing |
| Backend Tests | `backend/tests/integration/controllers/RedemptionController.test.ts` | Redemption API integration tests | Part13.3.1 API Testing | API endpoint testing |
| Backend Tests | `backend/tests/integration/controllers/FraudDetectionController.test.ts` | Fraud API integration tests | Part13.3.1 API Testing | Fraud API testing |
| Backend Tests | `backend/tests/integration/repositories/RedemptionRepository.test.ts` | Redemption repository tests | Part13.3.2 Database Testing | Database integration testing |
| Backend Tests | `backend/tests/integration/repositories/FraudScoreRepository.test.ts` | Fraud repository tests | Part13.3.2 Database Testing | Fraud database testing |
| Backend Tests | `backend/tests/integration/external-services/ScanditService.test.ts` | Scandit SDK integration tests | Part13.3.3 External Service Testing | SDK integration testing |
| Backend Tests | `backend/tests/integration/external-services/MLScoringService.test.ts` | ML service integration tests | Part13.3.3 External Service Testing | ML service testing |
| Backend Tests | `backend/tests/e2e/redemption-flow.test.ts` | End-to-end redemption tests | Part13.4.1 End-to-End Testing | Complete redemption workflow testing |
| Backend Tests | `backend/tests/e2e/fraud-detection-flow.test.ts` | Fraud detection E2E tests | Part13.4.1 End-to-End Testing | Fraud workflow testing |
| Backend Tests | `backend/tests/e2e/pos-integration.test.ts` | POS integration E2E tests | Part13.4.1 End-to-End Testing | POS workflow testing |
| **üê≥ DEPLOYMENT FILES** | | | | |
| Docker | `deployment/docker/Dockerfile.redemption-service` | Redemption service container | Part14.2 Container Architecture | Service containerization |
| Docker | `deployment/docker/Dockerfile.fraud-service` | Fraud detection service container | Part14.2 Container Architecture | Fraud service containerization |
| Kubernetes | `deployment/kubernetes/redemption-service/deployment.yaml` | Redemption service K8s deployment | Part14.3 Kubernetes Configuration | Service orchestration |
| Kubernetes | `deployment/kubernetes/redemption-service/service.yaml` | Redemption service K8s service | Part14.3 Kubernetes Configuration | Service networking |
| Kubernetes | `deployment/kubernetes/redemption-service/configmap.yaml` | Redemption service configuration | Part14.3 Kubernetes Configuration | Configuration management |
| Kubernetes | `deployment/kubernetes/fraud-service/deployment.yaml` | Fraud service K8s deployment | Part14.3 Kubernetes Configuration | Fraud service orchestration |
| Kubernetes | `deployment/kubernetes/fraud-service/service.yaml` | Fraud service K8s service | Part14.3 Kubernetes Configuration | Fraud service networking |
| Kubernetes | `deployment/kubernetes/fraud-service/configmap.yaml` | Fraud service configuration | Part14.3 Kubernetes Configuration | Fraud configuration management |
| Helm | `deployment/helm/redemption-fraud-services/Chart.yaml` | Services Helm chart | Part14.3 Kubernetes Configuration | Helm package definition |
| Helm | `deployment/helm/redemption-fraud-services/values.yaml` | Services values | Part14.3 Kubernetes Configuration | Helm configuration |
| Helm | `deployment/helm/redemption-fraud-services/templates/redemption-deployment.yaml` | Redemption deployment template | Part14.3 Kubernetes Configuration | Redemption deployment template |
| Helm | `deployment/helm/redemption-fraud-services/templates/fraud-deployment.yaml` | Fraud deployment template | Part14.3 Kubernetes Configuration | Fraud deployment template |
| **üìö DOCUMENTATION FILES** | | | | |
| Documentation | `docs/redemption-fraud-services/API.md` | Services API documentation | Part08.3 Redemption & Fraud APIs | API reference |
| Documentation | `docs/redemption-fraud-services/ARCHITECTURE.md` | Services architecture overview | Part06.2.2 Services Architecture | Architecture documentation |
| Documentation | `docs/redemption-fraud-services/REDEMPTION-FLOW.md` | Redemption process documentation | Part04.3.1 Barcode Redemption | Redemption implementation guide |
| Documentation | `docs/redemption-fraud-services/FRAUD-DETECTION.md` | Fraud detection documentation | Part04.4.1 Fraud Detection | Fraud implementation guide |
| Documentation | `docs/redemption-fraud-services/SCANDIT-INTEGRATION.md` | Scandit SDK documentation | Part09.2.1 Scandit SDK Integration | SDK integration guide |
| Documentation | `docs/redemption-fraud-services/POS-INTEGRATION.md` | POS integration documentation | Part04.3.1 Barcode Redemption | POS implementation guide |
| Documentation | `docs/redemption-fraud-services/SETUP.md` | Services setup guide | Part02.8 Technical Requirements | Developer setup |
| Documentation | `docs/diagrams/redemption-fraud-architecture.png` | Services architecture diagram | Part06.2.2 Services Architecture | Architecture visualization |
| Documentation | `docs/diagrams/redemption-flow.png` | Redemption process flow | Part04.3.1 Barcode Redemption | Process documentation |
| Documentation | `docs/diagrams/fraud-detection-flow.png` | Fraud detection flow | Part04.4.1 Fraud Detection | Fraud workflow documentation |
| Documentation | `docs/diagrams/pos-integration-flow.png` | POS integration flow | Part04.3.1 Barcode Redemption | POS process documentation |
| **‚öôÔ∏è SCRIPTS FILES** | | | | |
| Scripts | `scripts/setup-redemption-fraud-services.sh` | Services setup | Part02.8 Technical Requirements | Service setup automation |
| Scripts | `scripts/generate-fraud-test-data.sh` | Fraud test data generation | Part13 Testing Strategy | Testing data automation |
| Scripts | `scripts/migrate-redemption-data.sh` | Database migration | Part07.4.1 Redemption Table | Data migration automation |
| Scripts | `scripts/backup-redemption-data.sh` | Redemption data backup | Part07.4.1 Redemption Table | Data protection |
| Scripts | `scripts/deploy-redemption-fraud-services.sh` | Services deployment | Part14.1 Deployment Overview | Deployment automation |
| Scripts | `scripts/sync-pos-devices.sh` | POS synchronization | Part04.3.1 Barcode Redemption | POS sync automation |
| Scripts | `scripts/ml-model-update.sh` | ML model deployment | Part04.4.1.4 ML Based Scoring | ML model management |
| **üîß CONFIGURATION FILES** | | | | |
| Config | `backend/package.json` | Backend dependencies | Part02.8 Technical Requirements | Service project definition |
| Config | `backend/tsconfig.json` | TypeScript configuration | Part02.8 Technical Requirements | Compilation configuration |
| Config | `backend/jest.config.js` | Testing configuration | Part13.2.1 Unit Testing Framework | Testing setup |
| Config | `backend/eslint.config.js` | Code quality configuration | Part06B.7.1 Code Comments | Code quality setup |
| Config | `backend/prisma/schema.prisma` | Database schema | Part07.4.1 Redemption Table | Database definition |
| Config | `.env.redemption.example` | Environment variables template | Part02.8 Technical Requirements | Service configuration template |
| Config | `.env.fraud.example` | Fraud service environment template | Part04.4.1 Fraud Detection | Fraud configuration template |
| Config | `docker-compose.redemption-fraud.yml` | Services development stack | Part14.2 Container Architecture | Local development environment |
| Config | `ml-models/fraud-detection.json` | ML model configuration | Part04.4.1.4 ML Based Scoring | Machine learning configuration |
| Config | `pos-configs/pos-integration.json` | POS integration configuration | Part04.3.1 Barcode Redemption | POS setup configuration |

---

## üìÅ **C·∫§U TR√öC TH∆Ø M·ª§C HO√ÄN CH·ªàNH**

```bash
redemption-fraud-detection-service/
‚îú‚îÄ‚îÄ üìÇ backend/                                # Redemption & Fraud Detection Service
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ domain/                          # Domain Layer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ entities/                    # Business Entities
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Redemption.ts               # Redemption entity v·ªõi business rules
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudScore.ts               # Fraud scoring entity
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprint.ts        # Device fingerprinting entity
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Transaction.ts              # Transaction entity
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ POSDevice.ts                # POS device management entity
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ value-objects/               # Value Objects
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BarcodeHash.ts              # Barcode hash value object
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudRisk.ts                # Fraud risk assessment
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceSignature.ts          # Device signature value object
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RedemptionStatus.ts         # Redemption status management
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ repositories/                # Repository Interfaces
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IRedemptionRepository.ts    # Redemption repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IFraudScoreRepository.ts    # Fraud score repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IDeviceFingerprintRepository.ts # Device repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ITransactionRepository.ts   # Transaction repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ services/                    # Domain Services
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ RedemptionDomainService.ts  # Redemption business logic
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FraudDetectionService.ts    # Fraud detection business logic
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DeviceFingerprintingService.ts # Device fingerprinting logic
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ RiskCalculationService.ts   # Risk assessment calculations
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ application/                     # Application Layer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ use-cases/                   # Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ redemption/              # Redemption Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RedeemBarcodeUseCase.ts # Barcode redemption workflow
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ValidateBarcodeUseCase.ts # Barcode validation logic
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProcessOfflineRedemptionUseCase.ts # Offline redemption handling
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SyncPOSRedemptionsUseCase.ts # POS synchronization workflow
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GetRedemptionStatusUseCase.ts # Redemption status tracking
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ fraud/                   # Fraud Detection Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DetectFraudUseCase.ts   # Real-time fraud detection
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CalculateFraudScoreUseCase.ts # ML-based fraud scoring
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GenerateDeviceFingerprintUseCase.ts # Device fingerprinting
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UpdateFraudRulesUseCase.ts # Fraud rules management
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AnalyzeTransactionPatternUseCase.ts # Transaction pattern analysis
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ pos/                     # POS Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ RegisterPOSDeviceUseCase.ts # POS device registration
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ AuthenticatePOSUseCase.ts # POS authentication workflow
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ dto/                         # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RedemptionDTO.ts            # Redemption DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudDetectionDTO.ts        # Fraud detection DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprintDTO.ts     # Device fingerprint DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ POSDTO.ts                   # POS integration DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ ports/                       # Application Ports
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ IScanditService.ts          # Scandit SDK service interface
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ IMLScoringService.ts        # Machine learning service interface
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ IDeviceFingerprintingService.ts # Device fingerprinting interface
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ IPOSSyncService.ts          # POS synchronization interface
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ INotificationService.ts     # Notification service interface
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ infrastructure/                  # Infrastructure Layer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ persistence/                 # Data Persistence
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ repositories/            # Repository Implementations
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RedemptionRepository.ts # PostgreSQL redemption repository
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudScoreRepository.ts # Fraud score data access
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprintRepository.ts # Device data access
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TransactionRepository.ts # Transaction data access
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ POSDeviceRepository.ts  # POS device data management
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ models/                  # Database Models
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RedemptionModel.ts      # Prisma redemption model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudScoreModel.ts      # Fraud score model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprintModel.ts # Device fingerprint model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TransactionModel.ts     # Transaction model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ POSDeviceModel.ts       # POS device model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ migrations/              # Database Migrations
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 001_create_redemptions.sql # Redemption table creation
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 002_create_fraud_scores.sql # Fraud score tables
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 003_create_device_fingerprints.sql # Device fingerprint table
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ 004_create_pos_devices.sql # POS device tables
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ external-services/           # External Services
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ScanditService.ts           # Scandit SDK integration
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MLScoringService.ts         # Machine learning service
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprintingService.ts # Device fingerprinting service
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ POSSyncService.ts           # POS synchronization service
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NotificationService.ts      # Fraud alert notifications
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CacheService.ts             # Redis caching service
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ config/                      # Configuration
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ redemption.config.ts        # Redemption service config
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ fraud.config.ts             # Fraud detection config
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ scandit.config.ts           # Scandit SDK config
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ml.config.ts                # Machine learning config
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ pos.config.ts               # POS integration config
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ presentation/                    # Presentation Layer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ controllers/                 # API Controllers
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RedemptionController.ts     # Redemption endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudDetectionController.ts # Fraud detection endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprintController.ts # Device fingerprint endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ POSController.ts            # POS integration endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ HealthController.ts         # Health check
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ middleware/                  # API Middleware
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RedemptionAuthMiddleware.ts # Redemption authorization
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudValidationMiddleware.ts # Fraud detection validation
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ POSAuthMiddleware.ts        # POS authentication middleware
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RateLimitMiddleware.ts      # Rate limiting
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FraudAlertMiddleware.ts     # Fraud alert middleware
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ routes/                      # API Routes
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ redemptions.routes.ts       # Redemption routes
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fraud.routes.ts             # Fraud detection routes
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ devices.routes.ts           # Device fingerprint routes
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pos.routes.ts               # POS integration routes
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ validators/                  # Request Validators
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ RedemptionValidators.ts     # Redemption validation
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FraudValidators.ts          # Fraud detection validation
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DeviceValidators.ts         # Device fingerprint validation
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ POSValidators.ts            # POS integration validation
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ shared/                          # Shared Code
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ constants/                   # Constants
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ redemption.constants.ts     # Redemption constants
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ fraud.constants.ts          # Fraud detection constants
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ device.constants.ts         # Device fingerprint constants
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ pos.constants.ts            # POS integration constants
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ exceptions/                  # Custom Exceptions
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ RedemptionException.ts      # Redemption errors
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ FraudException.ts           # Fraud detection errors
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ DeviceException.ts          # Device fingerprint errors
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ POSException.ts             # POS integration errors
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ScanditException.ts         # Scandit SDK errors
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ types/                       # Type Definitions
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ redemption.types.ts         # Redemption types
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ fraud.types.ts              # Fraud detection types
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ device.types.ts             # Device fingerprint types
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ pos.types.ts                # POS integration types
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ml.types.ts                 # Machine learning types
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÇ utils/                       # Utility Functions
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ barcode.utils.ts            # Barcode processing utilities
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ fraud.utils.ts              # Fraud detection utilities
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ device.utils.ts             # Device fingerprint utilities
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ encryption.utils.ts         # Data encryption utilities
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ validation.utils.ts         # Validation utilities
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ tests/                               # Backend Testing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ unit/                            # Unit Tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ domain/                      # Domain Tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ entities/                
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Redemption.test.ts     # Redemption entity tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FraudScore.test.ts     # Fraud score entity tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ DeviceFingerprint.test.ts # Device entity tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ application/                 # Application Tests
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÇ use-cases/               
‚îÇ   ‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ RedeemBarcodeUseCase.test.ts # Redemption tests
‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ DetectFraudUseCase.test.ts # Fraud detection tests
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ integration/                     # Integration Tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ controllers/                 
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RedemptionController.test.ts # Redemption API tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FraudDetectionController.test.ts # Fraud API tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ repositories/                
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RedemptionRepository.test.ts # Redemption DB tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FraudScoreRepository.test.ts # Fraud DB tests
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ external-services/           
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ScanditService.test.ts      # Scandit SDK tests
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ MLScoringService.test.ts    # ML service tests
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ e2e/                             # E2E Tests
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ redemption-flow.test.ts         # Redemption workflow tests
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ fraud-detection-flow.test.ts    # Fraud workflow tests
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ pos-integration.test.ts         # POS workflow tests
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ docs/                                # Service Documentation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ API.md                              # API documentation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md                     # Architecture overview
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ REDEMPTION-FLOW.md                  # Redemption process guide
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FRAUD-DETECTION.md                  # Fraud detection guide
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SCANDIT-INTEGRATION.md              # Scandit SDK guide
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ POS-INTEGRATION.md                  # POS integration guide
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SETUP.md                            # Service setup guide
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ package.json                            # Service dependencies
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json                           # TypeScript config
‚îÇ   ‚îú‚îÄ‚îÄ jest.config.js                          # Testing config
‚îÇ   ‚îú‚îÄ‚îÄ eslint.config.js                        # Code quality config
‚îÇ   ‚îî‚îÄ‚îÄ prisma/                                 # Database Configuration
‚îÇ       ‚îî‚îÄ‚îÄ schema.prisma                       # Database schema
‚îÇ
‚îú‚îÄ‚îÄ üìÇ deployment/                              # Deployment Configuration
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ docker/                              # Docker files
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.redemption-service       # Redemption service container
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile.fraud-service            # Fraud service container
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ kubernetes/                          # Kubernetes manifests
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ redemption-service/              # Redemption K8s resources
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml                 # Service deployment
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service.yaml                    # Service networking
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ configmap.yaml                  # Configuration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ fraud-service/                   # Fraud K8s resources
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ deployment.yaml                 # Fraud deployment
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ service.yaml                    # Fraud networking
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ configmap.yaml                  # Fraud configuration
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ helm/                                # Helm charts
‚îÇ       ‚îî‚îÄ‚îÄ üìÇ redemption-fraud-services/       # Services Helm chart
‚îÇ           ‚îú‚îÄ‚îÄ Chart.yaml                      # Chart definition
‚îÇ           ‚îú‚îÄ‚îÄ values.yaml                     # Default values
‚îÇ           ‚îî‚îÄ‚îÄ üìÇ templates/                   # Helm templates
‚îÇ               ‚îú‚îÄ‚îÄ redemption-deployment.yaml  # Redemption template
‚îÇ               ‚îî‚îÄ‚îÄ fraud-deployment.yaml       # Fraud template
‚îÇ
‚îú‚îÄ‚îÄ üìÇ docs/                                    # Project Documentation
‚îÇ   ‚îú‚îÄ‚îÄ redemption-fraud-services/              # Service-specific docs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ API.md                              # API documentation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md                     # Services architecture
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ REDEMPTION-FLOW.md                  # Redemption documentation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FRAUD-DETECTION.md                  # Fraud docs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SCANDIT-INTEGRATION.md              # Scandit documentation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ POS-INTEGRATION.md                  # POS documentation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SETUP.md                            # Setup guide
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ diagrams/                            # Architecture diagrams
‚îÇ       ‚îú‚îÄ‚îÄ redemption-fraud-architecture.png   # Services architecture
‚îÇ       ‚îú‚îÄ‚îÄ redemption-flow.png                 # Redemption process flow
‚îÇ       ‚îú‚îÄ‚îÄ fraud-detection-flow.png            # Fraud detection flow
‚îÇ       ‚îî‚îÄ‚îÄ pos-integration-flow.png            # POS integration flow
‚îÇ
‚îú‚îÄ‚îÄ üìÇ scripts/                                 # Automation Scripts
‚îÇ   ‚îú‚îÄ‚îÄ setup-redemption-fraud-services.sh      # Services setup
‚îÇ   ‚îú‚îÄ‚îÄ generate-fraud-test-data.sh             # Fraud test data generation
‚îÇ   ‚îú‚îÄ‚îÄ migrate-redemption-data.sh              # Database migration
‚îÇ   ‚îú‚îÄ‚îÄ backup-redemption-data.sh               # Data backup
‚îÇ   ‚îú‚îÄ‚îÄ deploy-redemption-fraud-services.sh     # Services deployment
‚îÇ   ‚îú‚îÄ‚îÄ sync-pos-devices.sh                     # POS synchronization
‚îÇ   ‚îî‚îÄ‚îÄ ml-model-update.sh                      # ML model deployment
‚îÇ
‚îú‚îÄ‚îÄ üìÇ ml-models/                               # Machine Learning Models
‚îÇ   ‚îî‚îÄ‚îÄ fraud-detection.json                    # ML model configuration
‚îÇ
‚îú‚îÄ‚îÄ üìÇ pos-configs/                             # POS Configuration
‚îÇ   ‚îî‚îÄ‚îÄ pos-integration.json                    # POS setup configuration
‚îÇ
‚îú‚îÄ‚îÄ .env.redemption.example                     # Redemption environment template
‚îú‚îÄ‚îÄ .env.fraud.example                          # Fraud environment template
‚îú‚îÄ‚îÄ docker-compose.redemption-fraud.yml         # Development stack
‚îî‚îÄ‚îÄ README.md                                   # Project overview
```

---

## üìã **ROADMAP CHI TI·∫æT - CHECKLIST IMPLEMENTATION HO√ÄN CH·ªàNH**

### **1. SETUP & CHU·∫®N B·ªä D·ª∞ √ÅN** ‚öôÔ∏è

#### **1.1 Kh·ªüi t·∫°o Redemption & Fraud Services**
- [ ] **T·∫°o services structure v√† configuration**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part06.2.2 Services + Part02.8 Technical Requirements
  - *M√¥ t·∫£*: Thi·∫øt l·∫≠p backend services v·ªõi Clean Architecture cho redemption & fraud detection
  - *File t·∫°o*: `backend/package.json`, `backend/tsconfig.json`, complete folder structure
  - *√ù nghƒ©a*: Independent microservices cho redemption v√† fraud management

- [ ] **Setup database schema cho redemption & fraud**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part07.4.1 Redemption Table + Part07.4.2 Fraud Score Table
  - *M√¥ t·∫£*: PostgreSQL schema cho redemptions, fraud scores, device fingerprints
  - *File t·∫°o*: `backend/prisma/schema.prisma`, migration files
  - *√ù nghƒ©a*: Data persistence foundation cho redemption v√† fraud operations

- [ ] **Setup external service integrations**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part09.2.1 Scandit SDK Integration + Part04.4.1.4 ML Based Scoring
  - *M√¥ t·∫£*: Scandit SDK, ML scoring service, POS integration configuration
  - *File t·∫°o*: External service configs, SDK integration files
  - *√ù nghƒ©a*: Third-party integrations cho core functionality

#### **1.2 Database Schema Implementation**
- [ ] **Create redemption tables**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part07.4.1 Redemption Table
  - *M√¥ t·∫£*: Redemptions table v·ªõi barcode tracking, status, timestamps
  - *File t·∫°o*: `backend/src/infrastructure/persistence/migrations/001_create_redemptions.sql`
  - *√ù nghƒ©a*: Core redemption data storage

- [ ] **Create fraud detection tables**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part07.4.2 Fraud Score Table
  - *M√¥ t·∫£*: Fraud score tables v·ªõi ML scores, rules, alerts
  - *File t·∫°o*: `backend/src/infrastructure/persistence/migrations/002_create_fraud_scores.sql`
  - *√ù nghƒ©a*: Fraud detection data storage

- [ ] **Create device fingerprint tables**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part07.4.3 Device Fingerprint Table
  - *M√¥ t·∫£*: Device fingerprint tables v·ªõi signatures, tracking
  - *File t·∫°o*: `backend/src/infrastructure/persistence/migrations/003_create_device_fingerprints.sql`
  - *√ù nghƒ©a*: Device-based fraud prevention storage

- [ ] **Create POS device tables**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption
  - *M√¥ t·∫£*: POS device tables v·ªõi authentication, sync status
  - *File t·∫°o*: `backend/src/infrastructure/persistence/migrations/004_create_pos_devices.sql`
  - *√ù nghƒ©a*: POS integration management storage

#### **1.3 External Service Integration Setup**
- [ ] **Setup Scandit SDK integration**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part09.2.1 Scandit SDK Integration
  - *M√¥ t·∫£*: Scandit SDK for barcode scanning integration
  - *File t·∫°o*: Scandit configuration, scanning service setup
  - *√ù nghƒ©a*: Core barcode scanning capability

- [ ] **Setup ML scoring service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.4 ML Based Scoring
  - *M√¥ t·∫£*: Machine learning service for fraud scoring
  - *File t·∫°o*: ML service configuration, model integration
  - *√ù nghƒ©a*: AI-powered fraud detection capability

- [ ] **Setup POS synchronization service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption
  - *M√¥ t·∫£*: POS device synchronization for offline redemptions
  - *File t·∫°o*: POS sync configuration, offline handling
  - *√ù nghƒ©a*: Offline-online redemption bridge

### **2. DOMAIN LAYER IMPLEMENTATION** üèóÔ∏è

#### **2.1 Core Entities Implementation**
- [ ] **Implement Redemption Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption (FR-007)
  - *M√¥ t·∫£*: Redemption entity v·ªõi business rules, status transitions, validation
  - *File t·∫°o*: `backend/src/domain/entities/Redemption.ts`
  - *√ù nghƒ©a*: Core redemption business logic encapsulation

- [ ] **Implement FraudScore Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection (FR-011)
  - *M√¥ t·∫£*: Fraud score entity v·ªõi ML scoring, risk assessment
  - *File t·∫°o*: `backend/src/domain/entities/FraudScore.ts`
  - *√ù nghƒ©a*: Fraud detection scoring logic

- [ ] **Implement DeviceFingerprint Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.5 Device Fingerprinting
  - *M√¥ t·∫£*: Device fingerprint entity v·ªõi signature generation, tracking
  - *File t·∫°o*: `backend/src/domain/entities/DeviceFingerprint.ts`
  - *√ù nghƒ©a*: Device-based fraud prevention logic

- [ ] **Implement Transaction Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Transaction entity cho fraud pattern analysis
  - *File t·∫°o*: `backend/src/domain/entities/Transaction.ts`
  - *√ù nghƒ©a*: Transaction pattern detection

- [ ] **Implement POSDevice Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption
  - *M√¥ t·∫£*: POS device entity v·ªõi authentication, sync management
  - *File t·∫°o*: `backend/src/domain/entities/POSDevice.ts`
  - *√ù nghƒ©a*: POS device lifecycle management

#### **2.2 Value Objects Implementation**
- [ ] **Implement BarcodeHash Value Object**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption
  - *M√¥ t·∫£*: Barcode hash value object v·ªõi secure validation
  - *File t·∫°o*: `backend/src/domain/value-objects/BarcodeHash.ts`
  - *√ù nghƒ©a*: Secure barcode handling

- [ ] **Implement FraudRisk Value Object**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Fraud risk assessment value object v·ªõi scoring logic
  - *File t·∫°o*: `backend/src/domain/value-objects/FraudRisk.ts`
  - *√ù nghƒ©a*: Risk level calculation consistency

- [ ] **Implement DeviceSignature Value Object**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.5 Device Fingerprinting
  - *M√¥ t·∫£*: Device signature value object v·ªõi unique identification
  - *File t·∫°o*: `backend/src/domain/value-objects/DeviceSignature.ts`
  - *√ù nghƒ©a*: Unique device identification

- [ ] **Implement RedemptionStatus Value Object**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption
  - *M√¥ t·∫£*: Redemption status management v·ªõi state transitions
  - *File t·∫°o*: `backend/src/domain/value-objects/RedemptionStatus.ts`
  - *√ù nghƒ©a*: Controlled redemption state management

#### **2.3 Domain Services Implementation**
- [ ] **Implement RedemptionDomainService**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption
  - *M√¥ t·∫£*: Complex redemption business logic, validation rules
  - *File t·∫°o*: `backend/src/domain/services/RedemptionDomainService.ts`
  - *√ù nghƒ©a*: Cross-entity redemption business operations

- [ ] **Implement FraudDetectionService**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Fraud detection algorithms, rules engine
  - *File t·∫°o*: `backend/src/domain/services/FraudDetectionService.ts`
  - *√ù nghƒ©a*: Core fraud detection business logic

- [ ] **Implement DeviceFingerprintingService**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.5 Device Fingerprinting
  - *M√¥ t·∫£*: Device fingerprinting algorithms, signature generation
  - *File t·∫°o*: `backend/src/domain/services/DeviceFingerprintingService.ts`
  - *√ù nghƒ©a*: Device identification business rules

- [ ] **Implement RiskCalculationService**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Risk assessment calculations, scoring algorithms
  - *File t·∫°o*: `backend/src/domain/services/RiskCalculationService.ts`
  - *√ù nghƒ©a*: Risk scoring business logic

#### **2.4 Repository Interfaces Implementation**
- [ ] **Implement Repository Interfaces**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part06.2.1 Layered Architecture
  - *M√¥ t·∫£*: Domain layer interfaces cho data access
  - *File t·∫°o*: `backend/src/domain/repositories/IRedemptionRepository.ts`, `IFraudScoreRepository.ts`, `IDeviceFingerprintRepository.ts`, `ITransactionRepository.ts`
  - *√ù nghƒ©a*: Clean separation v·ªõi dependency inversion

### **3. APPLICATION LAYER IMPLEMENTATION** üîÑ

#### **3.1 Redemption Use Cases Implementation**
- [ ] **Implement Redemption Use Cases**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption (FR-007)
  - *M√¥ t·∫£*: Complete redemption workflow operations
  - *File t·∫°o*: `backend/src/application/use-cases/redemption/RedeemBarcodeUseCase.ts`, `ValidateBarcodeUseCase.ts`, `ProcessOfflineRedemptionUseCase.ts`, `SyncPOSRedemptionsUseCase.ts`, `GetRedemptionStatusUseCase.ts`
  - *√ù nghƒ©a*: Redemption workflow orchestration

#### **3.2 Fraud Detection Use Cases Implementation**
- [ ] **Implement Fraud Detection Use Cases**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection (FR-011)
  - *M√¥ t·∫£*: Real-time fraud detection, ML scoring, device fingerprinting workflows
  - *File t·∫°o*: `backend/src/application/use-cases/fraud/DetectFraudUseCase.ts`, `CalculateFraudScoreUseCase.ts`, `GenerateDeviceFingerprintUseCase.ts`, `UpdateFraudRulesUseCase.ts`, `AnalyzeTransactionPatternUseCase.ts`
  - *√ù nghƒ©a*: Complete fraud detection workflow management

#### **3.3 POS Integration Use Cases Implementation**
- [ ] **Implement POS Use Cases**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption
  - *M√¥ t·∫£*: POS device registration, authentication, offline sync
  - *File t·∫°o*: `backend/src/application/use-cases/pos/RegisterPOSDeviceUseCase.ts`, `AuthenticatePOSUseCase.ts`
  - *√ù nghƒ©a*: POS integration workflow orchestration

#### **3.4 DTOs v√† Application Ports**
- [ ] **Implement Data Transfer Objects**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3.1 Redemption APIs + Part08.3.2 Fraud Detection APIs
  - *M√¥ t·∫£*: API contract definitions cho all endpoints
  - *File t·∫°o*: `backend/src/application/dto/RedemptionDTO.ts`, `FraudDetectionDTO.ts`, `DeviceFingerprintDTO.ts`, `POSDTO.ts`
  - *√ù nghƒ©a*: Type-safe API contracts

- [ ] **Implement Application Ports**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part09.2.1 Scandit SDK Integration + Part04.4.1.4 ML Based Scoring
  - *M√¥ t·∫£*: External service interfaces cho dependency inversion
  - *File t·∫°o*: `backend/src/application/ports/IScanditService.ts`, `IMLScoringService.ts`, `IDeviceFingerprintingService.ts`, `IPOSSyncService.ts`, `INotificationService.ts`
  - *√ù nghƒ©a*: Clean external service integration

### **4. INFRASTRUCTURE LAYER IMPLEMENTATION** üèóÔ∏è

#### **4.1 Repository Implementations**
- [ ] **Implement PostgreSQL Repositories**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part07.4.1 Redemption Table + Part07.4.2 Fraud Score Table
  - *M√¥ t·∫£*: Concrete repository implementations v·ªõi Prisma ORM
  - *File t·∫°o*: `backend/src/infrastructure/persistence/repositories/RedemptionRepository.ts`, `FraudScoreRepository.ts`, `DeviceFingerprintRepository.ts`, `TransactionRepository.ts`, `POSDeviceRepository.ts`
  - *√ù nghƒ©a*: Data access layer cho redemption & fraud operations

#### **4.2 Database Models Implementation**
- [ ] **Implement Prisma Models**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part07.4.1 Redemption Table
  - *M√¥ t·∫£*: ORM models mapping domain entities to database
  - *File t·∫°o*: `backend/src/infrastructure/persistence/models/RedemptionModel.ts`, `FraudScoreModel.ts`, `DeviceFingerprintModel.ts`, `TransactionModel.ts`, `POSDeviceModel.ts`
  - *√ù nghƒ©a*: Type-safe database access v·ªõi ORM

#### **4.3 External Services Implementation**
- [ ] **Implement Scandit SDK Service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part09.2.1 Scandit SDK Integration
  - *M√¥ t·∫£*: Scandit SDK integration for barcode scanning
  - *File t·∫°o*: `backend/src/infrastructure/external-services/ScanditService.ts`
  - *√ù nghƒ©a*: Professional barcode scanning capability

- [ ] **Implement ML Scoring Service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.4 ML Based Scoring
  - *M√¥ t·∫£*: Machine learning service for fraud scoring
  - *File t·∫°o*: `backend/src/infrastructure/external-services/MLScoringService.ts`
  - *√ù nghƒ©a*: AI-powered fraud detection implementation

- [ ] **Implement Device Fingerprinting Service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.5 Device Fingerprinting
  - *M√¥ t·∫£*: Device fingerprinting implementation
  - *File t·∫°o*: `backend/src/infrastructure/external-services/DeviceFingerprintingService.ts`
  - *√ù nghƒ©a*: Device-based fraud prevention implementation

- [ ] **Implement POS Sync Service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption
  - *M√¥ t·∫£*: POS synchronization for offline redemptions
  - *File t·∫°o*: `backend/src/infrastructure/external-services/POSSyncService.ts`
  - *√ù nghƒ©a*: Offline-online redemption bridge

- [ ] **Implement Notification Service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Fraud alert notifications implementation
  - *File t·∫°o*: `backend/src/infrastructure/external-services/NotificationService.ts`
  - *√ù nghƒ©a*: Real-time fraud alerting

- [ ] **Implement Cache Service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption
  - *M√¥ t·∫£*: Redis caching for performance optimization
  - *File t·∫°o*: `backend/src/infrastructure/external-services/CacheService.ts`
  - *√ù nghƒ©a*: Performance optimization v√† offline support

#### **4.4 Configuration Implementation**
- [ ] **Implement Service Configurations**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part02.8 Technical Requirements
  - *M√¥ t·∫£*: Service-specific configuration management
  - *File t·∫°o*: `backend/src/infrastructure/config/redemption.config.ts`, `fraud.config.ts`, `scandit.config.ts`, `ml.config.ts`, `pos.config.ts`
  - *√ù nghƒ©a*: Centralized configuration cho service components

### **5. PRESENTATION LAYER IMPLEMENTATION** üåê

#### **5.1 API Controllers Implementation**
- [ ] **Implement Redemption Controllers**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3.1 Redemption APIs
  - *M√¥ t·∫£*: REST endpoints cho redemption management
  - *File t·∫°o*: `backend/src/presentation/controllers/RedemptionController.ts`
  - *√ù nghƒ©a*: Redemption API interface

- [ ] **Implement Fraud Detection Controllers**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3.2 Fraud Detection APIs
  - *M√¥ t·∫£*: Fraud detection v√† scoring endpoints
  - *File t·∫°o*: `backend/src/presentation/controllers/FraudDetectionController.ts`
  - *√ù nghƒ©a*: Fraud detection API interface

- [ ] **Implement Device Fingerprint Controllers**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3.2 Fraud Detection APIs
  - *M√¥ t·∫£*: Device fingerprinting management endpoints
  - *File t·∫°o*: `backend/src/presentation/controllers/DeviceFingerprintController.ts`
  - *√ù nghƒ©a*: Device management API interface

- [ ] **Implement POS Controllers**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3.1 Redemption APIs
  - *M√¥ t·∫£*: POS integration endpoints
  - *File t·∫°o*: `backend/src/presentation/controllers/POSController.ts`
  - *√ù nghƒ©a*: POS integration API interface

#### **5.2 Middleware Implementation**
- [ ] **Implement Security Middleware**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part05.3 Security Requirements
  - *M√¥ t·∫£*: Authentication, authorization, validation middleware
  - *File t·∫°o*: `backend/src/presentation/middleware/RedemptionAuthMiddleware.ts`, `FraudValidationMiddleware.ts`, `POSAuthMiddleware.ts`, `RateLimitMiddleware.ts`, `FraudAlertMiddleware.ts`
  - *√ù nghƒ©a*: API security v√† validation

#### **5.3 Routing Implementation**
- [ ] **Implement API Routes**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3 Redemption & Fraud APIs
  - *M√¥ t·∫£*: Route definitions v·ªõi middleware integration
  - *File t·∫°o*: `backend/src/presentation/routes/redemptions.routes.ts`, `fraud.routes.ts`, `devices.routes.ts`, `pos.routes.ts`
  - *√ù nghƒ©a*: Structured API organization

#### **5.4 Input Validation Implementation**
- [ ] **Implement Request Validators**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part05.7 Input Validation
  - *M√¥ t·∫£*: Input validation rules, schema validation
  - *File t·∫°o*: `backend/src/presentation/validators/RedemptionValidators.ts`, `FraudValidators.ts`, `DeviceValidators.ts`, `POSValidators.ts`
  - *√ù nghƒ©a*: Input validation v√† security

### **6. SHARED CODE IMPLEMENTATION** üß∞

#### **6.1 Constants v√† Configuration**
- [ ] **Implement Service Constants**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption + Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Redemption v√† fraud-related constants
  - *File t·∫°o*: `backend/src/shared/constants/redemption.constants.ts`, `fraud.constants.ts`, `device.constants.ts`, `pos.constants.ts`
  - *√ù nghƒ©a*: Centralized configuration constants

#### **6.2 Exception Handling**
- [ ] **Implement Custom Exceptions**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part05.8 Error Handling
  - *M√¥ t·∫£*: Domain-specific exception classes
  - *File t·∫°o*: `backend/src/shared/exceptions/RedemptionException.ts`, `FraudException.ts`, `DeviceException.ts`, `POSException.ts`, `ScanditException.ts`
  - *√ù nghƒ©a*: Structured error handling

#### **6.3 Utility Functions**
- [ ] **Implement Service Utilities**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.3.1 Barcode Redemption + Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Barcode utilities, fraud detection helpers, device utilities
  - *File t·∫°o*: `backend/src/shared/utils/barcode.utils.ts`, `fraud.utils.ts`, `device.utils.ts`, `encryption.utils.ts`, `validation.utils.ts`
  - *√ù nghƒ©a*: Reusable utility functions

#### **6.4 Type Definitions**
- [ ] **Implement TypeScript Types**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3 Redemption & Fraud APIs + Part02.8 Technical Requirements
  - *M√¥ t·∫£*: Service-specific type definitions
  - *File t·∫°o*: `backend/src/shared/types/redemption.types.ts`, `fraud.types.ts`, `device.types.ts`, `pos.types.ts`, `ml.types.ts`
  - *√ù nghƒ©a*: Type safety across service modules

### **7. TESTING IMPLEMENTATION** üß™

#### **7.1 Unit Testing**
- [ ] **Implement Domain Unit Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part13.2.1 Unit Testing Framework
  - *M√¥ t·∫£*: Entity, value object, domain service tests
  - *File t·∫°o*: `backend/tests/unit/domain/entities/Redemption.test.ts`, `FraudScore.test.ts`, `DeviceFingerprint.test.ts`
  - *√ù nghƒ©a*: Domain logic verification

- [ ] **Implement Application Unit Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part13.2.1 Unit Testing Framework
  - *M√¥ t·∫£*: Use case testing v·ªõi mocking
  - *File t·∫°o*: `backend/tests/unit/application/use-cases/RedeemBarcodeUseCase.test.ts`, `DetectFraudUseCase.test.ts`
  - *√ù nghƒ©a*: Application workflow verification

#### **7.2 Integration Testing**
- [ ] **Implement API Integration Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part13.3.1 API Testing
  - *M√¥ t·∫£*: Controller endpoint testing
  - *File t·∫°o*: `backend/tests/integration/controllers/RedemptionController.test.ts`, `FraudDetectionController.test.ts`
  - *√ù nghƒ©a*: API contract verification

- [ ] **Implement Database Integration Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part13.3.2 Database Testing
  - *M√¥ t·∫£*: Repository implementation testing
  - *File t·∫°o*: `backend/tests/integration/repositories/RedemptionRepository.test.ts`, `FraudScoreRepository.test.ts`
  - *√ù nghƒ©a*: Data access verification

- [ ] **Implement External Service Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part13.3.3 External Service Testing
  - *M√¥ t·∫£*: Scandit SDK, ML service, POS integration testing
  - *File t·∫°o*: `backend/tests/integration/external-services/ScanditService.test.ts`, `MLScoringService.test.ts`
  - *√ù nghƒ©a*: External integration verification

#### **7.3 End-to-End Testing**
- [ ] **Implement Workflow E2E Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part13.4.1 End-to-End Testing
  - *M√¥ t·∫£*: Complete service workflow testing
  - *File t·∫°o*: `backend/tests/e2e/redemption-flow.test.ts`, `fraud-detection-flow.test.ts`, `pos-integration.test.ts`
  - *√ù nghƒ©a*: Complete service functionality verification

### **8. DEPLOYMENT & DEVOPS** üöÄ

#### **8.1 Containerization**
- [ ] **Create Service Containers**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part14.2 Container Architecture
  - *M√¥ t·∫£*: Docker containers cho redemption & fraud services
  - *File t·∫°o*: `deployment/docker/Dockerfile.redemption-service`, `deployment/docker/Dockerfile.fraud-service`
  - *√ù nghƒ©a*: Portable service deployment

#### **8.2 Kubernetes Deployment**
- [ ] **Create K8s Manifests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part14.3 Kubernetes Configuration
  - *M√¥ t·∫£*: Service deployment, networking, configuration
  - *File t·∫°o*: K8s deployment, service, configmap files cho both services
  - *√ù nghƒ©a*: Production-ready orchestration

#### **8.3 Helm Chart**
- [ ] **Create Helm Chart**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part14.3 Kubernetes Configuration
  - *M√¥ t·∫£*: Parameterized deployment templates
  - *File t·∫°o*: `deployment/helm/redemption-fraud-services/Chart.yaml`, templates
  - *√ù nghƒ©a*: Flexible deployment configuration

### **9. DOCUMENTATION & MONITORING** üìö

#### **9.1 Service Documentation**
- [ ] **Create Service Documentation**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3 Redemption & Fraud APIs + Part06.2.2 Services Architecture
  - *M√¥ t·∫£*: API docs, architecture guide, integration guides
  - *File t·∫°o*: `docs/redemption-fraud-services/API.md`, `ARCHITECTURE.md`, `REDEMPTION-FLOW.md`, `FRAUD-DETECTION.md`, `SCANDIT-INTEGRATION.md`, `POS-INTEGRATION.md`, `SETUP.md`
  - *√ù nghƒ©a*: Developer onboarding v√† service maintenance

#### **9.2 Automation Scripts**
- [ ] **Create Automation Scripts**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part02.8 Technical Requirements
  - *M√¥ t·∫£*: Service setup, deployment, data management, ML model updates
  - *File t·∫°o*: `scripts/setup-redemption-fraud-services.sh`, `generate-fraud-test-data.sh`, `migrate-redemption-data.sh`, `backup-redemption-data.sh`, `deploy-redemption-fraud-services.sh`, `sync-pos-devices.sh`, `ml-model-update.sh`
  - *√ù nghƒ©a*: Operational efficiency v√† consistency

---

## üéØ **K·∫æT LU·∫¨N**

**T·ªïng s·ªë files ƒë∆∞·ª£c map**: 160+ files v·ªõi ƒë·∫ßy ƒë·ªß SRS references  
**Backend Clean Architecture**: 90+ files v·ªõi proper layering  
**API Coverage**: Complete REST endpoints cho Redemption, Fraud Detection, Device Fingerprinting, POS  
**External Integrations**: Scandit SDK, ML Scoring, POS Systems  
**Testing Strategy**: 30+ test files coverage  
**Deployment & DevOps**: 18+ infrastructure files  
**Documentation**: 12+ comprehensive docs  

**Estimated timeline**: 10-12 tu·∫ßn cho 1 team (4-5 developers)  
**SRS coverage**: 100% cho Redemption & Fraud domain (FR-007, FR-011)  
**Integration points**: Ready for Campaign Service, Analytics Service, POS systems  

**Sub-Project 3 ho√†n ch·ªânh! Redemption & Fraud Detection Service v·ªõi complete backend implementation theo SRS specifications! üöÄ**
