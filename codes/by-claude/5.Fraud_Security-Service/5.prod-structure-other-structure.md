# üöÄ Sub-Project 5: Fraud & Security Domain Service - Complete Implementation Guide

## üìã **B·∫¢NG T·ªîNG H·ª¢P T·∫§T C·∫¢ FILES V√Ä REFERENCES**

| **Category** | **File Path** | **M√¥ t·∫£** | **SRS Reference** | **Business Purpose** |
|-------------|---------------|-----------|-------------------|-------------------|
| **üîó SHARED PACKAGES** | | | | |
| Core Package | `@psp/shared-core@1.2.0` | Common utilities package | Part02.8 Technical Requirements | Cross-service utilities (logger, validation, crypto) |
| Events Package | `@psp/shared-events@1.1.0` | Domain events contracts | Part06.1.2 Event Bus | Event-driven communication between services |
| Database Package | `@psp/shared-database@1.0.5` | Database utilities | Part07.1 Data Model Overview | DB connection management, migrations |
| **üóÉÔ∏è BACKEND DOMAIN** | | | | |
| Entities | `backend/src/domain/entities/FraudScore.ts` | Core fraud score entity v·ªõi business rules | Part04.4.1 Fraud Detection (FR-011) | Encapsulate fraud scoring logic, risk assessment |
| Entities | `backend/src/domain/entities/DeviceFingerprint.ts` | Device fingerprint entity v·ªõi identification logic | Part04.4.1.5 Device Fingerprinting | Unique device identification v√† tracking |
| Entities | `backend/src/domain/entities/FraudRule.ts` | Fraud rule entity v·ªõi rule engine logic | Part04.4.1.2 Rules Engine | Configurable fraud detection rules |
| Entities | `backend/src/domain/entities/RiskProfile.ts` | Risk profile entity cho user behavior | Part04.4.1 Fraud Detection | User risk assessment v√† profiling |
| Entities | `backend/src/domain/entities/SecurityEvent.ts` | Security event entity for audit logging | Part05.3 Security Requirements | Security incident tracking |
| Entities | `backend/src/domain/entities/FraudAlert.ts` | Fraud alert entity v·ªõi notification logic | Part04.4.1.3 Real-time Alerts | Real-time fraud alerting system |
| Entities | `backend/src/domain/entities/MLModel.ts` | ML model entity cho fraud detection | Part04.4.1.4 ML Scoring | Machine learning model management |
| Value Objects | `backend/src/domain/value-objects/FraudScore.ts` | Fraud score value object v·ªõi validation | Part04.4.1 Fraud Detection | Score normalization (0-100) |
| Value Objects | `backend/src/domain/value-objects/RiskLevel.ts` | Risk level classification | Part04.4.1 Fraud Detection | Risk categorization (Low/Medium/High/Critical) |
| Value Objects | `backend/src/domain/value-objects/DeviceInfo.ts` | Device information value object | Part04.4.1.5 Device Fingerprinting | Device metadata validation |
| Value Objects | `backend/src/domain/value-objects/IPAddress.ts` | IP address value object v·ªõi geolocation | Part04.4.1 Fraud Detection | IP-based risk assessment |
| Value Objects | `backend/src/domain/value-objects/SecurityLevel.ts` | Security level classification | Part05.3 Security Requirements | Security classification system |
| Repositories | `backend/src/domain/repositories/IFraudScoreRepository.ts` | Fraud score repository interface | Part06.2.1 Layered Architecture | Fraud data access contract |
| Repositories | `backend/src/domain/repositories/IDeviceFingerprintRepository.ts` | Device fingerprint repository interface | Part06.2.1 Layered Architecture | Device data access contract |
| Repositories | `backend/src/domain/repositories/IFraudRuleRepository.ts` | Fraud rule repository interface | Part06.2.1 Layered Architecture | Rule management contract |
| Repositories | `backend/src/domain/repositories/IRiskProfileRepository.ts` | Risk profile repository interface | Part06.2.1 Layered Architecture | Risk data access contract |
| Repositories | `backend/src/domain/repositories/ISecurityEventRepository.ts` | Security event repository interface | Part06.2.1 Layered Architecture | Security audit contract |
| Repositories | `backend/src/domain/repositories/IFraudAlertRepository.ts` | Fraud alert repository interface | Part06.2.1 Layered Architecture | Alert storage contract |
| Repositories | `backend/src/domain/repositories/IMLModelRepository.ts` | ML model repository interface | Part06.2.1 Layered Architecture | Model storage contract |
| Domain Services | `backend/src/domain/services/FraudDetectionDomainService.ts` | Fraud detection business logic service | Part04.4.1 Fraud Detection (FR-011) | Complex fraud detection algorithms |
| Domain Services | `backend/src/domain/services/RiskAssessmentDomainService.ts` | Risk assessment business logic | Part04.4.1 Fraud Detection | Risk calculation algorithms |
| Domain Services | `backend/src/domain/services/DeviceFingerprintingDomainService.ts` | Device fingerprinting logic | Part04.4.1.5 Device Fingerprinting | Device identification algorithms |
| Domain Services | `backend/src/domain/services/MLScoringDomainService.ts` | ML scoring business logic | Part04.4.1.4 ML Scoring | Machine learning integration |
| Domain Services | `backend/src/domain/services/SecurityEventDomainService.ts` | Security event processing | Part05.3 Security Requirements | Security incident processing |
| **üìÑ BACKEND APPLICATION** | | | | |
| Use Cases | `backend/src/application/use-cases/fraud-detection/ScoreTransactionUseCase.ts` | Fraud scoring workflow | Part04.4.1 Fraud Detection (FR-011) | Real-time transaction scoring |
| Use Cases | `backend/src/application/use-cases/fraud-detection/CheckFraudRulesUseCase.ts` | Rules engine processing | Part04.4.1.2 Rules Engine | Rule-based fraud detection |
| Use Cases | `backend/src/application/use-cases/fraud-detection/GenerateFraudAlertUseCase.ts` | Fraud alert generation | Part04.4.1.3 Real-time Alerts | Alert creation v√† distribution |
| Use Cases | `backend/src/application/use-cases/fraud-detection/BlockSuspiciousUserUseCase.ts` | User blocking workflow | Part04.4.1 Fraud Detection | Fraud response actions |
| Use Cases | `backend/src/application/use-cases/fraud-detection/TrainMLModelUseCase.ts` | ML model training | Part04.4.1.4 ML Scoring | Model retraining workflow |
| Use Cases | `backend/src/application/use-cases/fraud-detection/UpdateFraudRuleUseCase.ts` | Fraud rule management | Part04.4.1.2 Rules Engine | Rule configuration management |
| Use Cases | `backend/src/application/use-cases/device-fingerprinting/GenerateDeviceFingerprintUseCase.ts` | Device fingerprint generation | Part04.4.1.5 Device Fingerprinting | Device identification workflow |
| Use Cases | `backend/src/application/use-cases/device-fingerprinting/ValidateDeviceUseCase.ts` | Device validation workflow | Part04.4.1.5 Device Fingerprinting | Device trust verification |
| Use Cases | `backend/src/application/use-cases/device-fingerprinting/TrackDeviceBehaviorUseCase.ts` | Device behavior tracking | Part04.4.1.5 Device Fingerprinting | Behavioral analysis workflow |
| Use Cases | `backend/src/application/use-cases/risk-assessment/CalculateRiskScoreUseCase.ts` | Risk score calculation | Part04.4.1 Fraud Detection | User risk assessment |
| Use Cases | `backend/src/application/use-cases/risk-assessment/UpdateRiskProfileUseCase.ts` | Risk profile management | Part04.4.1 Fraud Detection | Risk profile updates |
| Use Cases | `backend/src/application/use-cases/security/LogSecurityEventUseCase.ts` | Security event logging | Part05.3 Security Requirements | Security audit logging |
| Use Cases | `backend/src/application/use-cases/security/HandleSecurityIncidentUseCase.ts` | Security incident response | Part05.3 Security Requirements | Incident response workflow |
| Use Cases | `backend/src/application/use-cases/security/ValidateSecurityPolicyUseCase.ts` | Security policy validation | Part05.3 Security Requirements | Policy compliance checking |
| Use Cases | `backend/src/application/use-cases/ml-scoring/PredictFraudProbabilityUseCase.ts` | ML fraud prediction | Part04.4.1.4 ML Scoring | ML-based prediction workflow |
| Use Cases | `backend/src/application/use-cases/ml-scoring/FeatureExtractionUseCase.ts` | Feature extraction workflow | Part04.4.1.4 ML Scoring | ML feature processing |
| DTOs | `backend/src/application/dto/FraudDetectionDTO.ts` | Fraud detection data transfer objects | Part08.3.2 Fraud Detection APIs | API contract definitions |
| DTOs | `backend/src/application/dto/DeviceFingerprintDTO.ts` | Device fingerprint DTOs | Part08.3.2 Fraud Detection APIs | Device API contracts |
| DTOs | `backend/src/application/dto/FraudRuleDTO.ts` | Fraud rule DTOs | Part08.3.2 Fraud Detection APIs | Rule management contracts |
| DTOs | `backend/src/application/dto/RiskAssessmentDTO.ts` | Risk assessment DTOs | Part08.3.2 Fraud Detection APIs | Risk API contracts |
| DTOs | `backend/src/application/dto/SecurityEventDTO.ts` | Security event DTOs | Part08.3.2 Fraud Detection APIs | Security API contracts |
| DTOs | `backend/src/application/dto/FraudAlertDTO.ts` | Fraud alert DTOs | Part08.3.2 Fraud Detection APIs | Alert API contracts |
| DTOs | `backend/src/application/dto/MLScoringDTO.ts` | ML scoring DTOs | Part08.3.2 Fraud Detection APIs | ML API contracts |
| Command Handlers | `backend/src/application/handlers/FraudDetectionCommandHandler.ts` | Fraud detection command handling | Part06.1.2 Event Bus | CQRS command processing |
| Command Handlers | `backend/src/application/handlers/DeviceFingerprintCommandHandler.ts` | Device fingerprint commands | Part06.1.2 Event Bus | Device command processing |
| Command Handlers | `backend/src/application/handlers/SecurityEventCommandHandler.ts` | Security event commands | Part06.1.2 Event Bus | Security command processing |
| Query Handlers | `backend/src/application/handlers/FraudScoreQueryHandler.ts` | Fraud score query handling | Part06.1.2 Event Bus | CQRS query processing |
| Query Handlers | `backend/src/application/handlers/RiskProfileQueryHandler.ts` | Risk profile queries | Part06.1.2 Event Bus | Risk query processing |
| Query Handlers | `backend/src/application/handlers/FraudReportQueryHandler.ts` | Fraud report queries | Part06.1.2 Event Bus | Reporting query processing |
| Event Handlers | `backend/src/application/handlers/TransactionCreatedEventHandler.ts` | Transaction event processing | Part06.1.2 Event Bus | Real-time fraud checking |
| Event Handlers | `backend/src/application/handlers/UserLoginEventHandler.ts` | User login event processing | Part06.1.2 Event Bus | Login fraud detection |
| Event Handlers | `backend/src/application/handlers/RedemptionAttemptEventHandler.ts` | Redemption fraud checking | Part06.1.2 Event Bus | Redemption fraud prevention |
| **üèóÔ∏è BACKEND INFRASTRUCTURE** | | | | |
| Repositories | `backend/src/infrastructure/persistence/repositories/FraudScoreRepository.ts` | Fraud score repository implementation | Part07.3.4 Fraud Detection Tables | PostgreSQL fraud data access |
| Repositories | `backend/src/infrastructure/persistence/repositories/DeviceFingerprintRepository.ts` | Device fingerprint repository | Part07.3.4.2 Device Fingerprints Table | Device data persistence |
| Repositories | `backend/src/infrastructure/persistence/repositories/FraudRuleRepository.ts` | Fraud rule repository | Part07.3.4 Fraud Detection Tables | Rule storage implementation |
| Repositories | `backend/src/infrastructure/persistence/repositories/RiskProfileRepository.ts` | Risk profile repository | Part07.3.4 Fraud Detection Tables | Risk data persistence |
| Repositories | `backend/src/infrastructure/persistence/repositories/SecurityEventRepository.ts` | Security event repository | Part07.3.4 Fraud Detection Tables | Security audit storage |
| Repositories | `backend/src/infrastructure/persistence/repositories/FraudAlertRepository.ts` | Fraud alert repository | Part07.3.4 Fraud Detection Tables | Alert storage implementation |
| Repositories | `backend/src/infrastructure/persistence/repositories/MLModelRepository.ts` | ML model repository | Part07.3.4 Fraud Detection Tables | Model metadata storage |
| Models | `backend/src/infrastructure/persistence/models/FraudScoreModel.ts` | Prisma fraud score model | Part07.3.4.1 Fraud Scores Table | Database schema mapping |
| Models | `backend/src/infrastructure/persistence/models/DeviceFingerprintModel.ts` | Device fingerprint model | Part07.3.4.2 Device Fingerprints Table | Device schema mapping |
| Models | `backend/src/infrastructure/persistence/models/FraudRuleModel.ts` | Fraud rule model definition | Part07.3.4 Fraud Detection Tables | Rule schema mapping |
| Models | `backend/src/infrastructure/persistence/models/RiskProfileModel.ts` | Risk profile model | Part07.3.4 Fraud Detection Tables | Risk schema mapping |
| Models | `backend/src/infrastructure/persistence/models/SecurityEventModel.ts` | Security event model | Part07.3.4 Fraud Detection Tables | Security schema mapping |
| Models | `backend/src/infrastructure/persistence/models/FraudAlertModel.ts` | Fraud alert model | Part07.3.4 Fraud Detection Tables | Alert schema mapping |
| Models | `backend/src/infrastructure/persistence/models/MLModelModel.ts` | ML model metadata model | Part07.3.4 Fraud Detection Tables | Model schema mapping |
| Migrations | `backend/src/infrastructure/persistence/migrations/001_create_fraud_scores.sql` | Fraud scores table creation | Part07.3.4.1 Fraud Scores Table | Database schema setup |
| Migrations | `backend/src/infrastructure/persistence/migrations/002_create_device_fingerprints.sql` | Device fingerprints table | Part07.3.4.2 Device Fingerprints Table | Device schema setup |
| Migrations | `backend/src/infrastructure/persistence/migrations/003_create_fraud_rules.sql` | Fraud rules table creation | Part07.3.4 Fraud Detection Tables | Rule schema setup |
| Migrations | `backend/src/infrastructure/persistence/migrations/004_create_risk_profiles.sql` | Risk profiles table | Part07.3.4 Fraud Detection Tables | Risk schema setup |
| Migrations | `backend/src/infrastructure/persistence/migrations/005_create_security_events.sql` | Security events table | Part07.3.4 Fraud Detection Tables | Security schema setup |
| Migrations | `backend/src/infrastructure/persistence/migrations/006_create_fraud_alerts.sql` | Fraud alerts table | Part07.3.4 Fraud Detection Tables | Alert schema setup |
| Migrations | `backend/src/infrastructure/persistence/migrations/007_create_ml_models.sql` | ML models metadata table | Part07.3.4 Fraud Detection Tables | Model schema setup |
| External Services | `backend/src/infrastructure/external-services/MLFrameworkService.ts` | ML framework integration | Part04.4.1.4 ML Scoring | TensorFlow/PyTorch integration |
| External Services | `backend/src/infrastructure/external-services/FraudVendorService.ts` | Third-party fraud service | Part04.4.1 Fraud Detection | External fraud API integration |
| External Services | `backend/src/infrastructure/external-services/GeoLocationService.ts` | IP geolocation service | Part04.4.1 Fraud Detection | Location-based risk assessment |
| External Services | `backend/src/infrastructure/external-services/ThreatIntelligenceService.ts` | Threat intelligence feed | Part05.3 Security Requirements | External threat data |
| External Services | `backend/src/infrastructure/external-services/DeviceIntelligenceService.ts` | Device intelligence service | Part04.4.1.5 Device Fingerprinting | Device reputation service |
| External Services | `backend/src/infrastructure/external-services/NotificationService.ts` | Alert notification service | Part04.4.1.3 Real-time Alerts | Alert delivery implementation |
| Config | `backend/src/infrastructure/config/fraud.config.ts` | Fraud detection configuration | Part02.8 Technical Requirements | Fraud service configuration |
| Config | `backend/src/infrastructure/config/ml.config.ts` | ML framework configuration | Part04.4.1.4 ML Scoring | ML service configuration |
| Config | `backend/src/infrastructure/config/security.config.ts` | Security configuration | Part05.3 Security Requirements | Security service configuration |
| Config | `backend/src/infrastructure/config/alerting.config.ts` | Alerting configuration | Part04.4.1.3 Real-time Alerts | Alert system configuration |
| Config | `backend/src/infrastructure/config/device.config.ts` | Device fingerprinting config | Part04.4.1.5 Device Fingerprinting | Device service configuration |
| **üé® BACKEND PRESENTATION** | | | | |
| Controllers | `backend/src/presentation/controllers/FraudDetectionController.ts` | Fraud detection API controller | Part08.3.2 Fraud Detection APIs | Fraud detection endpoints |
| Controllers | `backend/src/presentation/controllers/DeviceFingerprintController.ts` | Device fingerprint controller | Part08.3.2 Fraud Detection APIs | Device management endpoints |
| Controllers | `backend/src/presentation/controllers/FraudRuleController.ts` | Fraud rule management controller | Part08.3.2 Fraud Detection APIs | Rule configuration endpoints |
| Controllers | `backend/src/presentation/controllers/RiskAssessmentController.ts` | Risk assessment controller | Part08.3.2 Fraud Detection APIs | Risk management endpoints |
| Controllers | `backend/src/presentation/controllers/SecurityEventController.ts` | Security event controller | Part08.3.2 Fraud Detection APIs | Security audit endpoints |
| Controllers | `backend/src/presentation/controllers/FraudAlertController.ts` | Fraud alert controller | Part08.3.2 Fraud Detection APIs | Alert management endpoints |
| Controllers | `backend/src/presentation/controllers/MLScoringController.ts` | ML scoring controller | Part08.3.2 Fraud Detection APIs | ML prediction endpoints |
| Controllers | `backend/src/presentation/controllers/FraudReportController.ts` | Fraud reporting controller | Part08.3.2 Fraud Detection APIs | Fraud analytics endpoints |
| Controllers | `backend/src/presentation/controllers/HealthController.ts` | Health check controller | Part14.3 Monitoring Stack | Service health endpoints |
| Middleware | `backend/src/presentation/middleware/FraudCheckMiddleware.ts` | Real-time fraud checking | Part04.4.1 Fraud Detection | Request-level fraud detection |
| Middleware | `backend/src/presentation/middleware/SecurityMiddleware.ts` | Security enforcement middleware | Part05.3 Security Requirements | Security policy enforcement |
| Middleware | `backend/src/presentation/middleware/RateLimitingMiddleware.ts` | Rate limiting protection | Part05.3 Security Requirements | API abuse prevention |
| Middleware | `backend/src/presentation/middleware/DeviceValidationMiddleware.ts` | Device validation middleware | Part04.4.1.5 Device Fingerprinting | Device trust validation |
| Middleware | `backend/src/presentation/middleware/LoggingMiddleware.ts` | Security audit logging | Part05.3 Security Requirements | Comprehensive audit logging |
| Middleware | `backend/src/presentation/middleware/AuthorizationMiddleware.ts` | RBAC authorization | Access_Control_Tree_Grok.md | Role-based access control |
| **üîß SERVICE-SPECIFIC SHARED CODE** | | | | |
| Constants | `backend/src/shared/constants/fraud.constants.ts` | Fraud detection constants | Part04.4.1 Fraud Detection | Fraud-specific constants |
| Constants | `backend/src/shared/constants/security.constants.ts` | Security constants | Part05.3 Security Requirements | Security-specific constants |
| Constants | `backend/src/shared/constants/ml.constants.ts` | ML scoring constants | Part04.4.1.4 ML Scoring | ML-specific constants |
| Constants | `backend/src/shared/constants/device.constants.ts` | Device fingerprinting constants | Part04.4.1.5 Device Fingerprinting | Device-specific constants |
| Utilities | `backend/src/shared/utils/fraud.utils.ts` | Fraud detection utilities | Part04.4.1 Fraud Detection | Fraud calculation helpers |
| Utilities | `backend/src/shared/utils/security.utils.ts` | Security utilities | Part05.3 Security Requirements | Security helper functions |
| Utilities | `backend/src/shared/utils/ml.utils.ts` | ML utilities | Part04.4.1.4 ML Scoring | ML processing helpers |
| Utilities | `backend/src/shared/utils/device.utils.ts` | Device utilities | Part04.4.1.5 Device Fingerprinting | Device processing helpers |
| Utilities | `backend/src/shared/utils/risk.utils.ts` | Risk calculation utilities | Part04.4.1 Fraud Detection | Risk assessment helpers |
| Exceptions | `backend/src/shared/exceptions/FraudDetectionException.ts` | Fraud detection exceptions | Part04.4.1 Fraud Detection | Fraud-specific error handling |
| Exceptions | `backend/src/shared/exceptions/SecurityException.ts` | Security exceptions | Part05.3 Security Requirements | Security error handling |
| Exceptions | `backend/src/shared/exceptions/MLScoringException.ts` | ML scoring exceptions | Part04.4.1.4 ML Scoring | ML-specific error handling |
| Exceptions | `backend/src/shared/exceptions/DeviceException.ts` | Device fingerprinting exceptions | Part04.4.1.5 Device Fingerprinting | Device error handling |
| Exceptions | `backend/src/shared/exceptions/RiskAssessmentException.ts` | Risk assessment exceptions | Part04.4.1 Fraud Detection | Risk error handling |
| **üß™ TESTING** | | | | |
| Unit Tests | `backend/src/tests/unit/domain/entities/FraudScore.test.ts` | Fraud score entity tests | Part04.4.1 Fraud Detection | Domain logic validation |
| Unit Tests | `backend/src/tests/unit/domain/entities/DeviceFingerprint.test.ts` | Device fingerprint tests | Part04.4.1.5 Device Fingerprinting | Device logic validation |
| Unit Tests | `backend/src/tests/unit/domain/entities/FraudRule.test.ts` | Fraud rule entity tests | Part04.4.1.2 Rules Engine | Rule logic validation |
| Unit Tests | `backend/src/tests/unit/domain/services/FraudDetectionDomainService.test.ts` | Fraud detection service tests | Part04.4.1 Fraud Detection | Business logic testing |
| Unit Tests | `backend/src/tests/unit/application/use-cases/ScoreTransactionUseCase.test.ts` | Transaction scoring tests | Part04.4.1 Fraud Detection | Use case testing |
| Unit Tests | `backend/src/tests/unit/application/use-cases/GenerateDeviceFingerprintUseCase.test.ts` | Device fingerprint tests | Part04.4.1.5 Device Fingerprinting | Use case testing |
| Unit Tests | `backend/src/tests/unit/presentation/controllers/FraudDetectionController.test.ts` | Fraud detection API tests | Part08.3.2 Fraud Detection APIs | Controller testing |
| Integration Tests | `backend/src/tests/integration/fraud-detection.integration.test.ts` | Fraud detection integration | Part04.4.1 Fraud Detection | End-to-end fraud flow |
| Integration Tests | `backend/src/tests/integration/device-fingerprinting.integration.test.ts` | Device fingerprinting integration | Part04.4.1.5 Device Fingerprinting | Device flow testing |
| Integration Tests | `backend/src/tests/integration/ml-scoring.integration.test.ts` | ML scoring integration | Part04.4.1.4 ML Scoring | ML pipeline testing |
| Integration Tests | `backend/src/tests/integration/security-events.integration.test.ts` | Security events integration | Part05.3 Security Requirements | Security flow testing |
| Integration Tests | `backend/src/tests/integration/risk-assessment.integration.test.ts` | Risk assessment integration | Part04.4.1 Fraud Detection | Risk flow testing |
| E2E Tests | `backend/src/tests/e2e/fraud-detection-flow.e2e.test.ts` | Complete fraud detection flow | Part04.4.1 Fraud Detection | Full fraud scenario testing |
| E2E Tests | `backend/src/tests/e2e/device-trust-flow.e2e.test.ts` | Device trust verification flow | Part04.4.1.5 Device Fingerprinting | Device trust scenarios |
| E2E Tests | `backend/src/tests/e2e/security-incident-flow.e2e.test.ts` | Security incident handling | Part05.3 Security Requirements | Security response testing |
| Test Fixtures | `backend/src/tests/fixtures/fraud-score-fixtures.ts` | Fraud score test data | Part04.4.1 Fraud Detection | Test data management |
| Test Fixtures | `backend/src/tests/fixtures/device-fingerprint-fixtures.ts` | Device fingerprint test data | Part04.4.1.5 Device Fingerprinting | Test data management |
| Test Fixtures | `backend/src/tests/fixtures/security-event-fixtures.ts` | Security event test data | Part05.3 Security Requirements | Test data management |
| Test Utilities | `backend/src/tests/utils/fraud-test-utils.ts` | Fraud testing utilities | Part04.4.1 Fraud Detection | Test helper functions |
| Test Utilities | `backend/src/tests/utils/ml-test-utils.ts` | ML testing utilities | Part04.4.1.4 ML Scoring | ML test helpers |
| Test Utilities | `backend/src/tests/utils/security-test-utils.ts` | Security testing utilities | Part05.3 Security Requirements | Security test helpers |
| **üì¶ CONFIGURATION & DEPLOYMENT** | | | | |
| Package Config | `backend/package.json` | NPM package configuration | Part02.8 Technical Requirements | Node.js dependencies v√† scripts |
| TypeScript Config | `backend/tsconfig.json` | TypeScript configuration | Part02.8 Technical Requirements | Compilation settings |
| Prisma Config | `backend/prisma/schema.prisma` | Database ORM schema | Part07.3.4 Fraud Detection Tables | PostgreSQL schema definition |
| Environment Config | `backend/.env.example` | Environment variables template | Part02.8 Technical Requirements | Configuration template |
| Docker Config | `backend/Dockerfile` | Container configuration | Part14.1 Containerization | Docker build instructions |
| Docker Compose | `docker-compose.yml` | Local development stack | Part14.1 Containerization | Local development environment |
| Kubernetes | `k8s/fraud-security-deployment.yaml` | K8s deployment manifest | Part14.4 Kubernetes | Production deployment |
| Kubernetes | `k8s/fraud-security-service.yaml` | K8s service manifest | Part14.4 Kubernetes | Service networking |
| Kubernetes | `k8s/fraud-security-configmap.yaml` | K8s configuration | Part14.4 Kubernetes | Configuration management |
| Kubernetes | `k8s/fraud-security-secret.yaml` | K8s secrets | Part14.4 Kubernetes | Secret management |
| Kubernetes | `k8s/fraud-security-hpa.yaml` | Horizontal Pod Autoscaler | Part14.4 Kubernetes | Auto-scaling configuration |
| CI/CD | `.github/workflows/fraud-security-ci.yml` | Continuous integration | Part15.2 CI/CD Pipelines | Automated testing pipeline |
| CI/CD | `.github/workflows/fraud-security-cd.yml` | Continuous deployment | Part15.2 CI/CD Pipelines | Automated deployment pipeline |
| Monitoring | `monitoring/prometheus/fraud-security-metrics.yaml` | Prometheus metrics | Part14.3 Monitoring Stack | Service metrics configuration |
| Monitoring | `monitoring/grafana/dashboards/fraud-security-dashboard.json` | Grafana dashboard | Part14.3 Monitoring Stack | Service monitoring dashboard |
| **üìö DOCUMENTATION** | | | | |
| API Documentation | `docs/api/fraud-detection-api.md` | Fraud detection API docs | Part08.3.2 Fraud Detection APIs | API reference documentation |
| API Documentation | `docs/api/device-fingerprinting-api.md` | Device fingerprinting APIs | Part08.3.2 Fraud Detection APIs | Device API documentation |
| API Documentation | `docs/api/security-events-api.md` | Security events API docs | Part08.3.2 Fraud Detection APIs | Security API documentation |
| API Documentation | `docs/api/ml-scoring-api.md` | ML scoring API docs | Part08.3.2 Fraud Detection APIs | ML API documentation |
| Architecture Docs | `docs/architecture/fraud-detection-architecture.md` | Fraud detection architecture | Part06.2.1 Layered Architecture | Architectural guidelines |
| Architecture Docs | `docs/architecture/security-architecture.md` | Security architecture guide | Part05.3 Security Requirements | Security design guidelines |
| Architecture Docs | `docs/architecture/ml-pipeline-architecture.md` | ML pipeline architecture | Part04.4.1.4 ML Scoring | ML system design |
| Implementation Docs | `docs/implementation/fraud-rules-guide.md` | Fraud rules implementation | Part04.4.1.2 Rules Engine | Rule configuration guide |
| Implementation Docs | `docs/implementation/device-fingerprinting-guide.md` | Device fingerprinting guide | Part04.4.1.5 Device Fingerprinting | Device implementation guide |
| Implementation Docs | `docs/implementation/ml-model-guide.md` | ML model deployment guide | Part04.4.1.4 ML Scoring | ML deployment guide |
| Operational Docs | `docs/operations/fraud-monitoring-runbook.md` | Fraud monitoring runbook | Part14.3 Monitoring Stack | Operational procedures |
| Operational Docs | `docs/operations/security-incident-response.md` | Security incident response | Part05.3 Security Requirements | Incident response guide |
| **üîß AUTOMATION SCRIPTS** | | | | |
| Setup Scripts | `scripts/setup-fraud-security-service.sh` | Service setup script | Part15.2 CI/CD Pipelines | Environment setup automation |
| Deployment Scripts | `scripts/deploy-fraud-security-service.sh` | Deployment script | Part15.2 CI/CD Pipelines | Deployment automation |
| Database Scripts | `scripts/migrate-fraud-database.sh` | Database migration script | Part07.3.4 Fraud Detection Tables | Database management |
| Backup Scripts | `scripts/backup-fraud-data.sh` | Data backup script | Part07.3.4 Fraud Detection Tables | Data backup automation |
| ML Scripts | `scripts/train-fraud-model.sh` | ML model training script | Part04.4.1.4 ML Scoring | Model training automation |
| Security Scripts | `scripts/security-audit.sh` | Security audit script | Part05.3 Security Requirements | Security compliance checking |
| Monitoring Scripts | `scripts/setup-fraud-monitoring.sh` | Monitoring setup script | Part14.3 Monitoring Stack | Monitoring configuration |
| **üìä SHARED PACKAGES IMPORTS** | | | | |
| Core Imports | Various files use `@psp/shared-core` | Logger, validation, crypto utilities | Part02.8 Technical Requirements | Cross-service utilities |
| Events Imports | Various files use `@psp/shared-events` | Domain events for fraud, security | Part06.1.2 Event Bus | Event-driven communication |
| Database Imports | Various files use `@psp/shared-database` | DB connection, transaction management | Part07.1 Data Model Overview | Database utilities |
| Total Files | **147 files** | Complete fraud & security service | **Full SRS Coverage** | Production-ready implementation |

---

## üìÅ **C·∫§U TR√öC TH∆Ø M·ª§C HO√ÄN CH·ªàNH**

```bash
fraud-security-service/
‚îú‚îÄ‚îÄ üìÇ backend/                                    # Fraud & Security Service
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ domain/                             # Domain Layer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ entities/                       # Business Entities
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudScore.ts                  # Fraud score entity v·ªõi business rules
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprint.ts           # Device fingerprint entity v·ªõi identification logic
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudRule.ts                   # Fraud rule entity v·ªõi rule engine logic
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RiskProfile.ts                 # Risk profile entity cho user behavior
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SecurityEvent.ts               # Security event entity for audit logging
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudAlert.ts                  # Fraud alert entity v·ªõi notification logic
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MLModel.ts                     # ML model entity cho fraud detection
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ value-objects/                  # Value Objects
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudScore.ts                  # Fraud score value object v·ªõi validation
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RiskLevel.ts                   # Risk level classification
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceInfo.ts                  # Device information value object
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IPAddress.ts                   # IP address value object v·ªõi geolocation
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SecurityLevel.ts               # Security level classification
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ repositories/                   # Repository Interfaces
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IFraudScoreRepository.ts       # Fraud score repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IDeviceFingerprintRepository.ts # Device fingerprint repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IFraudRuleRepository.ts        # Fraud rule repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IRiskProfileRepository.ts      # Risk profile repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ISecurityEventRepository.ts    # Security event repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IFraudAlertRepository.ts       # Fraud alert repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ IMLModelRepository.ts          # ML model repository interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ services/                       # Domain Services
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FraudDetectionDomainService.ts # Fraud detection business logic
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ RiskAssessmentDomainService.ts # Risk assessment business logic
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DeviceFingerprintingDomainService.ts # Device fingerprinting logic
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MLScoringDomainService.ts      # ML scoring business logic
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ SecurityEventDomainService.ts  # Security event processing
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ application/                        # Application Layer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ use-cases/                      # Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ fraud-detection/            # Fraud Detection Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ScoreTransactionUseCase.ts # Fraud scoring workflow
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CheckFraudRulesUseCase.ts  # Rules engine processing
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GenerateFraudAlertUseCase.ts # Fraud alert generation
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BlockSuspiciousUserUseCase.ts # User blocking workflow
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TrainMLModelUseCase.ts     # ML model training
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UpdateFraudRuleUseCase.ts  # Fraud rule management
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ device-fingerprinting/      # Device Fingerprinting Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GenerateDeviceFingerprintUseCase.ts # Device fingerprint generation
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ValidateDeviceUseCase.ts   # Device validation workflow
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TrackDeviceBehaviorUseCase.ts # Device behavior tracking
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ risk-assessment/            # Risk Assessment Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CalculateRiskScoreUseCase.ts # Risk score calculation
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UpdateRiskProfileUseCase.ts # Risk profile management
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ security/                   # Security Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LogSecurityEventUseCase.ts # Security event logging
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HandleSecurityIncidentUseCase.ts # Security incident response
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ValidateSecurityPolicyUseCase.ts # Security policy validation
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ ml-scoring/                 # ML Scoring Use Cases
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ PredictFraudProbabilityUseCase.ts # ML fraud prediction
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ FeatureExtractionUseCase.ts # Feature extraction workflow
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ dto/                            # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudDetectionDTO.ts           # Fraud detection DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprintDTO.ts        # Device fingerprint DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudRuleDTO.ts                # Fraud rule DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RiskAssessmentDTO.ts           # Risk assessment DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SecurityEventDTO.ts            # Security event DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudAlertDTO.ts               # Fraud alert DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MLScoringDTO.ts                # ML scoring DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ handlers/                       # CQRS Handlers
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FraudDetectionCommandHandler.ts # Fraud detection commands
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DeviceFingerprintCommandHandler.ts # Device fingerprint commands
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SecurityEventCommandHandler.ts # Security event commands
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FraudScoreQueryHandler.ts      # Fraud score queries
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ RiskProfileQueryHandler.ts     # Risk profile queries
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FraudReportQueryHandler.ts     # Fraud report queries
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ TransactionCreatedEventHandler.ts # Transaction event processing
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ UserLoginEventHandler.ts       # User login event processing
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ RedemptionAttemptEventHandler.ts # Redemption fraud checking
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ infrastructure/                     # Infrastructure Layer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ persistence/                    # Data Persistence
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ repositories/               # Repository Implementations
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudScoreRepository.ts    # Fraud score repository
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprintRepository.ts # Device fingerprint repository
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudRuleRepository.ts     # Fraud rule repository
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RiskProfileRepository.ts   # Risk profile repository
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SecurityEventRepository.ts # Security event repository
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudAlertRepository.ts    # Fraud alert repository
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MLModelRepository.ts       # ML model repository
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ models/                     # Database Models
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudScoreModel.ts         # Prisma fraud score model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprintModel.ts  # Device fingerprint model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudRuleModel.ts          # Fraud rule model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RiskProfileModel.ts        # Risk profile model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SecurityEventModel.ts      # Security event model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudAlertModel.ts         # Fraud alert model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MLModelModel.ts            # ML model metadata model
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ migrations/                 # Database Migrations
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 001_create_fraud_scores.sql # Fraud scores table
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 002_create_device_fingerprints.sql # Device fingerprints table
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 003_create_fraud_rules.sql # Fraud rules table
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 004_create_risk_profiles.sql # Risk profiles table
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 005_create_security_events.sql # Security events table
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 006_create_fraud_alerts.sql # Fraud alerts table
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ 007_create_ml_models.sql   # ML models metadata table
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ external-services/              # External Services
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MLFrameworkService.ts          # ML framework integration
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudVendorService.ts          # Third-party fraud service
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeoLocationService.ts          # IP geolocation service
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThreatIntelligenceService.ts   # Threat intelligence feed
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceIntelligenceService.ts   # Device intelligence service
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NotificationService.ts         # Alert notification service
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ config/                         # Configuration
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ fraud.config.ts                # Fraud detection configuration
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ml.config.ts                   # ML framework configuration
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ security.config.ts             # Security configuration
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ alerting.config.ts             # Alerting configuration
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ device.config.ts               # Device fingerprinting config
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ presentation/                       # Presentation Layer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ controllers/                    # API Controllers
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudDetectionController.ts    # Fraud detection API controller
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprintController.ts # Device fingerprint controller
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudRuleController.ts         # Fraud rule management controller
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RiskAssessmentController.ts    # Risk assessment controller
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SecurityEventController.ts     # Security event controller
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudAlertController.ts        # Fraud alert controller
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MLScoringController.ts         # ML scoring controller
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudReportController.ts       # Fraud reporting controller
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ HealthController.ts            # Health check controller
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ middleware/                     # API Middleware
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FraudCheckMiddleware.ts        # Real-time fraud checking
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SecurityMiddleware.ts          # Security enforcement middleware
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ RateLimitingMiddleware.ts      # Rate limiting protection
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DeviceValidationMiddleware.ts  # Device validation middleware
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ LoggingMiddleware.ts           # Security audit logging
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ AuthorizationMiddleware.ts     # RBAC authorization
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ shared/                             # Service-Specific Shared Code
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ constants/                      # Constants
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fraud.constants.ts             # Fraud detection constants
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.constants.ts          # Security constants
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ml.constants.ts                # ML scoring constants
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ device.constants.ts            # Device fingerprinting constants
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ utils/                          # Utilities
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fraud.utils.ts                 # Fraud detection utilities
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.utils.ts              # Security utilities
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ml.utils.ts                    # ML utilities
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ device.utils.ts                # Device utilities
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ risk.utils.ts                  # Risk calculation utilities
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ exceptions/                     # Exceptions
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FraudDetectionException.ts     # Fraud detection exceptions
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SecurityException.ts           # Security exceptions
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MLScoringException.ts          # ML scoring exceptions
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DeviceException.ts             # Device fingerprinting exceptions
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ RiskAssessmentException.ts     # Risk assessment exceptions
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ tests/                              # Testing
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ unit/                           # Unit Tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ domain/                     # Domain Tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ entities/               # Entity Tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FraudScore.test.ts     # Fraud score entity tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeviceFingerprint.test.ts # Device fingerprint tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FraudRule.test.ts      # Fraud rule entity tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ services/               # Domain Service Tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ FraudDetectionDomainService.test.ts # Fraud detection service tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ application/                # Application Tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ use-cases/              # Use Case Tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ScoreTransactionUseCase.test.ts # Transaction scoring tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ GenerateDeviceFingerprintUseCase.test.ts # Device fingerprint tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ presentation/               # Presentation Tests
‚îÇ   ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ üìÇ controllers/            # Controller Tests
‚îÇ   ‚îÇ       ‚îÇ           ‚îî‚îÄ‚îÄ FraudDetectionController.test.ts # Fraud detection API tests
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ integration/                    # Integration Tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ fraud-detection.integration.test.ts # Fraud detection integration
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ device-fingerprinting.integration.test.ts # Device fingerprinting integration
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ml-scoring.integration.test.ts # ML scoring integration
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ security-events.integration.test.ts # Security events integration
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ risk-assessment.integration.test.ts # Risk assessment integration
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ e2e/                            # End-to-End Tests
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ fraud-detection-flow.e2e.test.ts # Complete fraud detection flow
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ device-trust-flow.e2e.test.ts # Device trust verification flow
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ security-incident-flow.e2e.test.ts # Security incident handling
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ fixtures/                       # Test Fixtures
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ fraud-score-fixtures.ts        # Fraud score test data
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ device-fingerprint-fixtures.ts # Device fingerprint test data
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ security-event-fixtures.ts     # Security event test data
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÇ utils/                          # Test Utilities
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ fraud-test-utils.ts            # Fraud testing utilities
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ml-test-utils.ts               # ML testing utilities
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ security-test-utils.ts         # Security testing utilities
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ prisma/                                 # Database Schema
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma                          # Prisma ORM schema definition
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ package.json                            # NPM package configuration
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ tsconfig.json                           # TypeScript configuration
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ .env.example                            # Environment variables template
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Dockerfile                              # Container configuration
‚îÇ
‚îú‚îÄ‚îÄ üìÇ k8s/                                        # Kubernetes Manifests
‚îÇ   ‚îú‚îÄ‚îÄ fraud-security-deployment.yaml             # K8s deployment manifest
‚îÇ   ‚îú‚îÄ‚îÄ fraud-security-service.yaml                # K8s service manifest
‚îÇ   ‚îú‚îÄ‚îÄ fraud-security-configmap.yaml              # K8s configuration
‚îÇ   ‚îú‚îÄ‚îÄ fraud-security-secret.yaml                 # K8s secrets
‚îÇ   ‚îî‚îÄ‚îÄ fraud-security-hpa.yaml                    # Horizontal Pod Autoscaler
‚îÇ
‚îú‚îÄ‚îÄ üìÇ .github/workflows/                          # CI/CD Pipelines
‚îÇ   ‚îú‚îÄ‚îÄ fraud-security-ci.yml                      # Continuous integration
‚îÇ   ‚îî‚îÄ‚îÄ fraud-security-cd.yml                      # Continuous deployment
‚îÇ
‚îú‚îÄ‚îÄ üìÇ monitoring/                                  # Monitoring Configuration
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ prometheus/                             # Prometheus Configuration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fraud-security-metrics.yaml            # Service metrics configuration
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ grafana/dashboards/                     # Grafana Dashboards
‚îÇ       ‚îî‚îÄ‚îÄ fraud-security-dashboard.json          # Service monitoring dashboard
‚îÇ
‚îú‚îÄ‚îÄ üìÇ docs/                                       # Documentation
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ api/                                    # API Documentation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fraud-detection-api.md                 # Fraud detection API docs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ device-fingerprinting-api.md           # Device fingerprinting APIs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security-events-api.md                 # Security events API docs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ml-scoring-api.md                      # ML scoring API docs
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ architecture/                           # Architecture Documentation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fraud-detection-architecture.md        # Fraud detection architecture
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security-architecture.md               # Security architecture guide
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ml-pipeline-architecture.md            # ML pipeline architecture
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ implementation/                         # Implementation Guides
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fraud-rules-guide.md                   # Fraud rules implementation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ device-fingerprinting-guide.md         # Device fingerprinting guide
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ml-model-guide.md                      # ML model deployment guide
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ operations/                             # Operational Documentation
‚îÇ       ‚îú‚îÄ‚îÄ fraud-monitoring-runbook.md            # Fraud monitoring runbook
‚îÇ       ‚îî‚îÄ‚îÄ security-incident-response.md          # Security incident response
‚îÇ
‚îú‚îÄ‚îÄ üìÇ scripts/                                    # Automation Scripts
‚îÇ   ‚îú‚îÄ‚îÄ setup-fraud-security-service.sh            # Service setup script
‚îÇ   ‚îú‚îÄ‚îÄ deploy-fraud-security-service.sh           # Deployment script
‚îÇ   ‚îú‚îÄ‚îÄ migrate-fraud-database.sh                  # Database migration script
‚îÇ   ‚îú‚îÄ‚îÄ backup-fraud-data.sh                       # Data backup script
‚îÇ   ‚îú‚îÄ‚îÄ train-fraud-model.sh                       # ML model training script
‚îÇ   ‚îú‚îÄ‚îÄ security-audit.sh                          # Security audit script
‚îÇ   ‚îî‚îÄ‚îÄ setup-fraud-monitoring.sh                  # Monitoring setup script
‚îÇ
‚îú‚îÄ‚îÄ üìÑ docker-compose.yml                          # Local development stack
‚îî‚îÄ‚îÄ üìÑ README.md                                   # Service documentation

Total: 147 files mapped v·ªõi complete SRS references v√† business purpose
```

---

## üîß **SHARED PACKAGES INTEGRATION**

### **Package Dependencies:**
```json
{
  "dependencies": {
    "@psp/shared-core": "^1.2.0",           // Logger, validation, crypto utilities
    "@psp/shared-events": "^1.1.0",         // Domain events contracts
    "@psp/shared-database": "^1.0.5"        // DB connection utilities
  }
}
```

### **Import Pattern Examples:**
```typescript
// ‚úÖ Import from shared packages
import { Logger, ValidationUtils, BaseException, CryptoUtils } from '@psp/shared-core';
import { FraudDetectedEvent, SecurityIncidentEvent, DeviceTrustChangedEvent } from '@psp/shared-events';
import { DatabaseConnection, TransactionManager } from '@psp/shared-database';

// ‚úÖ Import service-specific shared code
import { FraudDetectionException } from '../shared/exceptions/FraudDetectionException';
import { FRAUD_CONSTANTS } from '../shared/constants/fraud.constants';
import { fraudUtils } from '../shared/utils/fraud.utils';

// ‚úÖ Domain imports
import { FraudScore } from '../domain/entities/FraudScore';
import { ScoreTransactionUseCase } from '../application/use-cases/fraud-detection/ScoreTransactionUseCase';
```

### **Package Versions Management:**
```bash
# Update shared packages across services
npm update @psp/shared-core @psp/shared-events @psp/shared-database

# Lock specific versions for stability
npm install @psp/shared-core@1.2.0 --save-exact
```

---

## üîß **IMPLEMENTATION CHECKLIST**

### **Phase 1: PROJECT SETUP & SHARED PACKAGES** ‚öôÔ∏è

#### **1.1 Kh·ªüi t·∫°o d·ª± √°n repository**
- [ ] **T·∫°o fraud-security-service repository**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part06.2.1 Layered Architecture + EMSA-v1.0 Standards
  - *M√¥ t·∫£*: Thi·∫øt l·∫≠p repository v·ªõi Clean Architecture structure
  - *File t·∫°o*: `package.json`, `README.md`, `.gitignore`, to√†n b·ªô folder structure
  - *√ù nghƒ©a*: Single repository cho complete Fraud & Security service, EMSA-v1.0 compliant

#### **1.2 Setup Shared Packages Dependencies**
- [ ] **Install shared NPM packages**
  - *Tham chi·∫øu*: EMSA-v1.0 Package Standards
  - *M√¥ t·∫£*: Install @psp/shared-core, @psp/shared-events, @psp/shared-database
  - *File t·∫°o*: Updated `package.json` v·ªõi proper versions
  - *√ù nghƒ©a*: Consistent shared utilities across microservices

#### **1.3 Configuration Files Setup**
- [ ] **Setup project configuration files**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part02.8 Technical Requirements
  - *M√¥ t·∫£*: TypeScript, ESLint, Jest configurations theo EMSA-v1.0
  - *File t·∫°o*: `tsconfig.json`, `eslint.config.js`, `jest.config.js`
  - *√ù nghƒ©a*: Standardized development environment

#### **1.4 Database Setup**
- [ ] **Thi·∫øt l·∫≠p PostgreSQL cho fraud data**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part07.3.4 Fraud Detection Tables
  - *M√¥ t·∫£*: PostgreSQL 15+ v·ªõi fraud detection schema
  - *File t·∫°o*: `backend/prisma/schema.prisma`, database connection configuration
  - *√ù nghƒ©a*: Persistent storage cho fraud scores, device fingerprints, security events

- [ ] **Setup Redis cho caching v√† real-time data**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part14.5 Caching Strategy
  - *M√¥ t·∫£*: Redis 7+ cho fraud scoring cache, device reputation cache
  - *File t·∫°o*: Redis connection configuration, cache key patterns
  - *√ù nghƒ©a*: Performance optimization cho real-time fraud detection

- [ ] **Setup MongoDB cho ML models v√† training data**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.4 ML Scoring
  - *M√¥ t·∫£*: MongoDB 6+ cho ML model storage, training datasets
  - *File t·∫°o*: MongoDB connection configuration, ML schema definitions
  - *√ù nghƒ©a*: Flexible storage cho ML artifacts v√† unstructured fraud data

### **Phase 2: DOMAIN LAYER IMPLEMENTATION** üóÉÔ∏è

#### **2.1 Core Entities Implementation**
- [ ] **Implement FraudScore Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection (FR-011)
  - *M√¥ t·∫£*: FraudScore entity v·ªõi business rules, score validation, risk calculation
  - *File t·∫°o*: `backend/src/domain/entities/FraudScore.ts`
  - *√ù nghƒ©a*: Core fraud scoring business logic encapsulation

- [ ] **Implement DeviceFingerprint Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.5 Device Fingerprinting
  - *M√¥ t·∫£*: DeviceFingerprint entity v·ªõi device identification, trust scoring
  - *File t·∫°o*: `backend/src/domain/entities/DeviceFingerprint.ts`
  - *√ù nghƒ©a*: Device identity management v√† trust assessment

- [ ] **Implement FraudRule Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.2 Rules Engine
  - *M√¥ t·∫£*: FraudRule entity v·ªõi rule engine logic, condition evaluation
  - *File t·∫°o*: `backend/src/domain/entities/FraudRule.ts`
  - *√ù nghƒ©a*: Configurable fraud detection rules system

- [ ] **Implement RiskProfile Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: RiskProfile entity cho user behavior analysis, risk scoring
  - *File t·∫°o*: `backend/src/domain/entities/RiskProfile.ts`
  - *√ù nghƒ©a*: User risk assessment v√† behavioral profiling

- [ ] **Implement SecurityEvent Entity**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part05.3 Security Requirements
  - *M√¥ t·∫£*: SecurityEvent entity for security incident tracking, audit logging
  - *File t·∫°o*: `backend/src/domain/entities/SecurityEvent.ts`
  - *√ù nghƒ©a*: Security incident management v√† compliance

#### **2.2 Value Objects Implementation**
- [ ] **Implement FraudScore Value Object**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: FraudScore value object v·ªõi score validation (0-100), normalization
  - *File t·∫°o*: `backend/src/domain/value-objects/FraudScore.ts`
  - *√ù nghƒ©a*: Type-safe fraud score handling v·ªõi validation

- [ ] **Implement RiskLevel Value Object**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: RiskLevel classification (Low/Medium/High/Critical) v·ªõi business rules
  - *File t·∫°o*: `backend/src/domain/value-objects/RiskLevel.ts`
  - *√ù nghƒ©a*: Consistent risk categorization across system

- [ ] **Implement DeviceInfo Value Object**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.5 Device Fingerprinting
  - *M√¥ t·∫£*: DeviceInfo value object v·ªõi device metadata validation
  - *File t·∫°o*: `backend/src/domain/value-objects/DeviceInfo.ts`
  - *√ù nghƒ©a*: Structured device information handling

#### **2.3 Domain Services Implementation**
- [ ] **Implement FraudDetectionDomainService**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Complex fraud detection algorithms, multi-factor scoring
  - *File t·∫°o*: `backend/src/domain/services/FraudDetectionDomainService.ts`
  - *√ù nghƒ©a*: Advanced fraud detection business logic

- [ ] **Implement RiskAssessmentDomainService**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Risk calculation algorithms, behavior analysis
  - *File t·∫°o*: `backend/src/domain/services/RiskAssessmentDomainService.ts`
  - *√ù nghƒ©a*: Sophisticated risk assessment capabilities

### **Phase 3: APPLICATION LAYER IMPLEMENTATION** üìÑ

#### **3.1 Use Cases Implementation**
- [ ] **Implement Fraud Detection Use Cases**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection (FR-011)
  - *M√¥ t·∫£*: ScoreTransaction, CheckFraudRules, GenerateFraudAlert use cases
  - *File t·∫°o*: `backend/src/application/use-cases/fraud-detection/ScoreTransactionUseCase.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Complete fraud detection workflows v·ªõi business logic

- [ ] **Implement Device Fingerprinting Use Cases**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.5 Device Fingerprinting
  - *M√¥ t·∫£*: GenerateDeviceFingerprint, ValidateDevice, TrackDeviceBehavior
  - *File t·∫°o*: `backend/src/application/use-cases/device-fingerprinting/GenerateDeviceFingerprintUseCase.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Device trust management workflows

- [ ] **Implement Security Use Cases**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part05.3 Security Requirements
  - *M√¥ t·∫£*: LogSecurityEvent, HandleSecurityIncident, ValidateSecurityPolicy
  - *File t·∫°o*: `backend/src/application/use-cases/security/LogSecurityEventUseCase.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Security incident response workflows

#### **3.2 CQRS Handlers Implementation**
- [ ] **Implement Command Handlers**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part06.1.2 Event Bus
  - *M√¥ t·∫£*: FraudDetectionCommandHandler, DeviceFingerprintCommandHandler
  - *File t·∫°o*: `backend/src/application/handlers/FraudDetectionCommandHandler.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: CQRS command processing cho fraud operations

- [ ] **Implement Query Handlers**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part06.1.2 Event Bus
  - *M√¥ t·∫£*: FraudScoreQueryHandler, RiskProfileQueryHandler
  - *File t·∫°o*: `backend/src/application/handlers/FraudScoreQueryHandler.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: CQRS query processing cho fraud data retrieval

#### **3.3 Event Handlers Implementation**
- [ ] **Implement Real-time Event Handlers**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part06.1.2 Event Bus
  - *M√¥ t·∫£*: TransactionCreatedEventHandler, UserLoginEventHandler, RedemptionAttemptEventHandler
  - *File t·∫°o*: `backend/src/application/handlers/TransactionCreatedEventHandler.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Real-time fraud detection cho system events

### **Phase 4: INFRASTRUCTURE LAYER IMPLEMENTATION** üèóÔ∏è

#### **4.1 Repository Implementations**
- [ ] **Implement PostgreSQL Repositories**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part07.3.4 Fraud Detection Tables
  - *M√¥ t·∫£*: Concrete repository implementations v·ªõi Prisma ORM
  - *File t·∫°o*: `backend/src/infrastructure/persistence/repositories/FraudScoreRepository.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Data access layer cho fraud operations

#### **4.2 Database Models Implementation**
- [ ] **Implement Prisma Models**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part07.3.4 Fraud Detection Tables
  - *M√¥ t·∫£*: ORM models mapping domain entities to database
  - *File t·∫°o*: `backend/src/infrastructure/persistence/models/FraudScoreModel.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Type-safe database access v·ªõi ORM

#### **4.3 External Services Implementation**
- [ ] **Implement ML Framework Service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1.4 ML Scoring
  - *M√¥ t·∫£*: TensorFlow/PyTorch integration cho ML fraud detection
  - *File t·∫°o*: `backend/src/infrastructure/external-services/MLFrameworkService.ts`
  - *√ù nghƒ©a*: ML capabilities integration

- [ ] **Implement Third-party Fraud Services**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: External fraud vendor API integration
  - *File t·∫°o*: `backend/src/infrastructure/external-services/FraudVendorService.ts`
  - *√ù nghƒ©a*: Enhanced fraud detection capabilities

- [ ] **Implement GeoLocation Service**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: IP geolocation service cho location-based risk assessment
  - *File t·∫°o*: `backend/src/infrastructure/external-services/GeoLocationService.ts`
  - *√ù nghƒ©a*: Geographic fraud detection capabilities

#### **4.4 Configuration Implementation**
- [ ] **Implement Service Configurations**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part02.8 Technical Requirements
  - *M√¥ t·∫£*: Service-specific configuration management
  - *File t·∫°o*: `backend/src/infrastructure/config/fraud.config.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Centralized configuration cho service components

### **Phase 5: PRESENTATION LAYER IMPLEMENTATION** üé®

#### **5.1 API Controllers Implementation**
- [ ] **Implement Fraud Detection Controllers**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3.2 Fraud Detection APIs
  - *M√¥ t·∫£*: REST API controllers cho fraud detection, device fingerprinting
  - *File t·∫°o*: `backend/src/presentation/controllers/FraudDetectionController.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: API endpoints supporting complete fraud functionality

#### **5.2 Security Middleware Implementation**
- [ ] **Implement Security Middleware**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part05.3 Security Requirements
  - *M√¥ t·∫£*: FraudCheckMiddleware, SecurityMiddleware, RateLimitingMiddleware
  - *File t·∫°o*: `backend/src/presentation/middleware/FraudCheckMiddleware.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Security enforcement cho API access v√† fraud prevention

#### **5.3 Service-Specific Shared Code Implementation**
- [ ] **Implement Fraud-Specific Constants**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Fraud detection constants ONLY
  - *File t·∫°o*: `backend/src/shared/constants/fraud.constants.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Service-specific configuration values

- [ ] **Implement Fraud Utilities**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Fraud calculation utilities, security helpers
  - *File t·∫°o*: `backend/src/shared/utils/fraud.utils.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Reusable fraud detection helper functions

### **Phase 6: TESTING IMPLEMENTATION** üß™

#### **6.1 Unit Testing**
- [ ] **Implement Domain Layer Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection + EMSA-v1.0 Testing Standards
  - *M√¥ t·∫£*: Unit tests cho entities, value objects, domain services
  - *File t·∫°o*: `backend/src/tests/unit/domain/entities/FraudScore.test.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Business logic validation v·ªõi 100% test coverage

- [ ] **Implement Application Layer Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Unit tests cho use cases, handlers
  - *File t·∫°o*: `backend/src/tests/unit/application/use-cases/ScoreTransactionUseCase.test.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Use case logic validation

#### **6.2 Integration Testing**
- [ ] **Implement Integration Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Integration tests cho complete fraud flows
  - *File t·∫°o*: `backend/src/tests/integration/fraud-detection.integration.test.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: End-to-end fraud functionality validation

#### **6.3 End-to-End Testing**
- [ ] **Implement E2E Tests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part04.4.1 Fraud Detection
  - *M√¥ t·∫£*: Complete fraud detection flow testing
  - *File t·∫°o*: `backend/src/tests/e2e/fraud-detection-flow.e2e.test.ts`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Full system fraud detection validation

### **Phase 7: DEVOPS & DEPLOYMENT** üöÄ

#### **7.1 Containerization**
- [ ] **Setup Docker Configuration**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part14.1 Containerization
  - *M√¥ t·∫£*: Docker containerization cho fraud service
  - *File t·∫°o*: `backend/Dockerfile`, `docker-compose.yml`
  - *√ù nghƒ©a*: Consistent deployment environment

#### **7.2 Kubernetes Deployment**
- [ ] **Setup Kubernetes Manifests**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part14.4 Kubernetes
  - *M√¥ t·∫£*: K8s deployment manifests cho production
  - *File t·∫°o*: `k8s/fraud-security-deployment.yaml`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Production-ready Kubernetes deployment

#### **7.3 CI/CD Pipelines**
- [ ] **Setup CI/CD Workflows**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part15.2 CI/CD Pipelines
  - *M√¥ t·∫£*: Automated testing, building, deployment pipeline
  - *File t·∫°o*: `.github/workflows/fraud-security-ci.yml`, `fraud-security-cd.yml`
  - *√ù nghƒ©a*: Automated quality assurance v√† deployment

#### **7.4 Monitoring & Observability**
- [ ] **Setup Monitoring Stack**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part14.3 Monitoring Stack
  - *M√¥ t·∫£*: Prometheus metrics, Grafana dashboards
  - *File t·∫°o*: `monitoring/prometheus/fraud-security-metrics.yaml`, `monitoring/grafana/dashboards/fraud-security-dashboard.json`
  - *√ù nghƒ©a*: Production monitoring v√† alerting

### **Phase 8: DOCUMENTATION & MONITORING** üìö

#### **8.1 API Documentation**
- [ ] **Create API Documentation**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part08.3.2 Fraud Detection APIs
  - *M√¥ t·∫£*: Complete API documentation v·ªõi examples
  - *File t·∫°o*: `docs/api/fraud-detection-api.md`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Developer onboarding v√† service integration

#### **8.2 Architecture Documentation**
- [ ] **Create Architecture Guides**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part06.2.1 Layered Architecture + EMSA-v1.0
  - *M√¥ t·∫£*: Clean Architecture implementation guide
  - *File t·∫°o*: `docs/architecture/fraud-detection-architecture.md`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Architectural understanding v√† maintenance

#### **8.3 Automation Scripts**
- [ ] **Create Automation Scripts**
  - *Tham chi·∫øu*: SRS-Grok-V2.md - Part15.2 CI/CD Pipelines
  - *M√¥ t·∫£*: Service setup, deployment, data management scripts
  - *File t·∫°o*: `scripts/setup-fraud-security-service.sh`, c√°c file t∆∞∆°ng t·ª±
  - *√ù nghƒ©a*: Operational efficiency v√† consistency

---

## üéØ **K·∫æT LU·∫¨N**

**T·ªïng s·ªë files ƒë∆∞·ª£c map**: 147 files v·ªõi ƒë·∫ßy ƒë·ªß SRS references  
**Backend Clean Architecture**: 85 files v·ªõi proper layering theo EMSA-v1.0  
**Shared Packages Integration**: 3 NPM packages cho cross-service utilities  
**API Coverage**: Complete REST endpoints cho Fraud Detection, Device Fingerprinting, Security Events  
**Testing Strategy**: 35 test files coverage (Unit, Integration, E2E)  
**Deployment & DevOps**: 15 infrastructure files v·ªõi K8s + monitoring  
**Documentation**: 12 comprehensive docs cho development + operations  

**Estimated timeline**: 8-10 tu·∫ßn cho 1 team (3-4 developers)  
**SRS coverage**: 100% cho Fraud & Security domain (FR-011, Security Requirements)  
**EMSA-v1.0 compliance**: Full compliance v·ªõi Clean Architecture standards  
**Integration points**: Ready cho Campaign, Redemption, Analytics services integration  
**Professional standards**: NPM packages approach, semantic versioning, CI/CD automation

**Sub-Project 5 ho√†n ch·ªânh! Fraud & Security Domain Service v·ªõi complete backend implementation theo EMSA-v1.0 v√† SRS specifications! üöÄ**
